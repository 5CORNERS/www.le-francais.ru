{% extends "account/base.html" %}

{% load i18n %}

{% block head_title %}{% trans "Signup" %}{% endblock %}

{% block content %}
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-2 col-lg-3 hidden-xs "></div>
            <div class="col-sm-8 col-lg-5">
                <div align="center" style="padding-top:30px; padding-bottom:30px">
                    <h3>Регистрация нового пользователя</h3>
                </div>
                <div class="col-lg-12">
                    <div style="margin-bottom:15px">
                        <h4>Мы рекомендуем вам входить, используя уже существующий аккаунт в одной из
                            социальных сетей — это современно!</h4>
                        Если вы раньше писали на старом форуме (это был Google Groups), ваш аккаунт здесь <b>уже
                        существует</b> (и привязан к адресу на Gmail).
                        Чтобы войти в него, авторизуйтесь с вашей учетной записью Google — она точно у вас есть (иначе
                        бы вы не могли писать на старый форум).
                    </div>
                    <div class="row text-xs-center">
                        <div class="col-lg-4 col-sm-6">
                            <input type="button" class="btn btn-google btn-block" style="margin-bottom:10px"
                                   value="Google+"
                                   onclick="window.location.href='{% url "social:begin" "google-oauth2" %}'"/>
                        </div>
                        <div class="col-lg-4 col-sm-6">
                            <input type="button" class="btn btn-vk btn-block" style="margin-bottom:10px"
                                   value="ВКонтакте"
                                   onclick="window.location.href='{% url "social:begin" "vk-oauth2" %}'"/>
                        </div>
                        <div class="col-lg-4 col-sm-6">
                            <input type="button" class="btn btn-facebook btn-block" style="margin-bottom:10px"
                                   value="Facebook"
                                   onclick="window.location.href='{% url "social:begin" "facebook" %}'"/>
                        </div>
                        <div class="col-lg-4 col-sm-6">
                            <input type="button" class="btn btn-mailru btn-block" style="margin-bottom:10px" value="Mail.ru"
                                   onclick="window.location.href='{% url "social:begin" "mailru-oauth2" %}'"
                            />
                        </div>
                        <div class="col-lg-4 col-sm-6">
                            <input type="button" class="btn btn-odnoklassniki btn-block" style="margin-bottom:10px" value="Одноклассники"
                                   onclick="window.location.href='{% url "social:begin" "odnoklassniki-oauth2" %}'"
                            />
                        </div>
                        <div class="col-lg-4 col-sm-6">
                            <input type="button" class="btn btn-yandex btn-block" style="margin-bottom:10px; " value="Яндекс"
                                   onclick="window.location.href='{% url "social:begin" "yandex-oauth2" %}'"
                            />
                        </div>

                </div>
                <div class="col-lg-12">
                    <div style="margin-bottom:10px">
                        Если у вас нет аккаунтов в социальных сетях, зарегистрируйтесь с помощью этой формы:
                    </div>

                    <form class="login" method="POST" action="{% url 'account_signup' %}">
                        {% csrf_token %}
                        {% if form.errors %}
                            <ul>
                            {% for field in form %}
                                {% for error in field.errors %}
                                    <li class="">
                                        <strong>{{ error|escape }}</strong>
                                    </li>
                                {% endfor %}
                            {% endfor %}
                            {% for error in form.non_field_errors %}
                                <li class="">
                                    <strong>{{ error|escape }}</strong>
                                </li>
                            {% endfor %}
                            </ul>
                        {% endif %}
                        <div class="form-group">
                            <input type="email" name="email" id="id_email" class="form-control form-control-lg"
                                   placeholder="Email" required>
                        </div>
                        <div class="form-group">
                            <input type="text" name="username" autofocus="autofocus" id="id_username"
                                   class="form-control form-control-lg" placeholder="Имя на форуме" required>
                        </div>
                        <div class="form-group">
                            <input type="password" minlength="6" name="password1" id="id_password1"
                                   class="form-control form-control-lg" placeholder="Задайте пароль" required>
                        </div>
                        <div class="form-group">
                            <input type="password" minlength="6" name="password2" id="id_password2"
                                   class="form-control form-control-lg"
                                   placeholder="Повторите ввод пароля" required>
                        </div>
                        <div class="form-group">
                            <button class="btn btn-primary btn-lg btn-block">Зарегистрироваться</button>
                        </div>
                        {% if redirect_field_value %}
                            <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}"/>
                        {% endif %}
                    </form>
                </div>
            </div>
            <div class="col-sm-2 col-lg-3 hidden-xs "></div>
        </div>
    </div>

{% endblock %}
