var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,m,e){a instanceof String&&(a=String(a));for(var f=a.length,k=0;k<f;k++){var v=a[k];if(m.call(e,v,k,a))return{i:k,v:v}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,m,e){a!=Array.prototype&&a!=Object.prototype&&(a[m]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,m,e,f){if(m){e=$jscomp.global;a=a.split(".");for(f=0;f<a.length-1;f++){var k=a[f];k in e||(e[k]={});e=e[k]}a=a[a.length-1];f=e[a];m=m(f);m!=f&&null!=m&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:m})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6","es3");$(document).ready(function(){$("audio").audioPlayer();dispatchEvent(new Event("audioplayerReady"))});
(function(a,m,e,f){var k="ontouchstart"in m,v=k?"touchstart":"mousedown",z=k?"touchmove":"mousemove",F=k?"touchcancel":"mouseup",B=function(a){var b=Math.floor(a/3600),e=Math.floor(a%3600/60);a=Math.ceil(a%3600%60);return(0==b?"":2>b.toString().length?"0"+b:b)+(0==b?"":":")+(2>e.toString().length?"0"+e:e)+":"+(2>a.toString().length?"0"+a:a)},G=function(a){e.createElement("audio");return!0};a.fn.audioPlayer=function(g){g=a.extend({classPrefix:"audioplayer",strPlay:"Play",strPause:"Pause",strVolume:"Volume"},
g);var b={},t={playPause:"playpause",playing:"playing",time:"time",timeCurrent:"time-current",timeDuration:"time-duration",bar:"bar",barLoaded:"bar-loaded",barPlayed:"bar-played",volume:"volume",volumeButton:"volume-button",volumeAdjust:"volume-adjust",noVolume:"novolume",mute:"mute",mini:"mini",download:"download",downloadButton:"download-button",tenSecondsBack:"ten-seconds-back",tenSecondsBackMask:"ten-seconds-back-mask"},N=a('<svg class="'+t.tenSecondsBackMask+'">\n      <defs>\n        <pattern id="pattern-stripe" width="3" height="2" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">\n          <rect width="1" height="3" transform="translate(0,0)" fill="white" data-darkreader-inline-fill="" style="--darkreader-inline-fill:#bdbdbd;"></rect>\n        </pattern>\n        <mask id="mask-stripe">\n          <rect x="0" y="0" width="100%" height="100%" fill="url(#pattern-stripe)"></rect>\n        </mask>      \n      </defs>\n\n      \x3c!-- bar chart --\x3e\n      <rect class="hbar thing-2" x="0" y="0" width="32" height="32" style="\n    mask: url(#mask-stripe);\n    fill: #292b2c;\n"></rect>\n    \n</svg>'),
w;for(w in t)b[w]=g.classPrefix+"-"+t[w];this.each(function(){function t(H){if(d.hasClass(b.playing))a(this).attr("title",g.strPlay).find("a").html(g.strPlay),typeof h!==typeof f&&(H?d.find("."+b.playPause).attr("title",g.strPlay).find("a").html(g.strPlay):h.find("."+b.playPause).attr("title",g.strPlay).find("a").html(g.strPlay),h.removeClass(b.playing)),d.removeClass(b.playing),r?c.pause():c.Stop();else{if(typeof l!==typeof f&&!1!==l&&e.hidden)return!1;a(this).attr("title",g.strPause).find("a").html(g.strPause);
typeof h!==typeof f&&(H?d.find("."+b.playPause).attr("title",g.strPause).find("a").html(g.strPause):h.find("."+b.playPause).attr("title",g.strPlay).find("a").html(g.strPause),h.addClass(b.playing));d.addClass(b.playing);r?c.play():c.Play()}return!1}function w(){A&&console.log("Visibility Changed. Playing: "+d.hasClass(b.playing))}if("audio"!=a(this).prop("tagName").toLowerCase())return!1;var n=a(this),u=n.attr("src"),x=n.get(0).getAttribute("autoplay"),p=n.get(0).getAttribute("loop"),r=!1,I=n.get(0).getAttribute("set-time"),
A=!0===n.data("strict");x=""===x||"autoplay"===x;p=""===p||"loop"===p;"undefined"===typeof u?n.find("source").each(function(){u=a(this).attr("src");if("undefined"!==typeof u&&G(u))return r=!0,!1}):G(u)&&(r=!0);var d=a('<div class="'+g.classPrefix+'">'+(r?a("<div>").append(n.eq(0).clone()).html():'<embed src="'+u+'" width="0" height="0" volume="100" autostart="'+x.toString()+'" loop="'+p.toString()+'" />')+'<div class="'+b.playPause+'" title="'+g.strPlay+'"><a href="#">'+g.strPlay+"</a></div></div>"),
c=r?d.find("audio"):d.find("embed");c=c.get(0);var l=a(c).attr("number");if(typeof l!==typeof f&&!1!==l)var h=d.clone();if(r){d.find("audio").css({width:0,height:0,visibility:"hidden"});d.append('<div class="'+b.time+" "+b.timeCurrent+'"></div><div class="'+b.bar+'"><div class="'+b.barLoaded+'"></div><div class="'+b.barPlayed+'"></div></div><div class="'+b.time+" "+b.timeDuration+'"></div><div class="'+b.volume+'"><div class="'+b.volumeButton+'" title="'+g.strVolume+'"><a href="#">'+g.strVolume+'</a></div><div class="'+
b.volumeAdjust+'"><div><div></div></div></div></div>');!0===a(c).data("downloadable")&&(p=a(c).find("source").attr("src"),A?d.append('<div class="'+b.download+'"><a class="'+b.downloadButton+' fa fa-download"></a></div>'):d.append('<div class="'+b.download+'"><a download="true" href="'+p+'&download=true" class="'+b.downloadButton+' fa fa-download"></a></div><div class="audioplayer-space"></div>'),a(c).attr("id","lesson-audio"),a(c).attr("number",l));m.dispatchEvent(new CustomEvent("downloadButtonReady"));
var y=d.find("."+b.bar),O=d.find("."+b.barPlayed);d.find("."+b.barLoaded);var J=d.find("."+b.timeCurrent),K=d.find("."+b.timeDuration);p=d.find("."+b.volumeButton);var q=d.find("."+b.volumeAdjust+" > div"),P=d.find("."+b.downloadButton),C=0,L=function(a){theRealEvent=k?a.originalEvent.touches[0]:a;c.currentTime=Math.round(c.duration*(theRealEvent.pageX-y.offset().left)/y.width())},M=function(a){theRealEvent=k?a.originalEvent.touches[0]:a;c.volume=Math.abs((theRealEvent.pageY-(q.offset().top+q.height()))/
q.height())},Q=c.volume,R=c.volume=.111;Math.round(1E3*c.volume)/1E3==R?c.volume=Q:d.addClass(b.noVolume);K.html("&hellip;");J.text(B(0));c.addEventListener("loadeddata",function(){typeof l!==typeof f&&!1!==l&&(I?c.currentTime=I:typeof localStorage["lecon-"+l]!==typeof f&&"undefined"!==localStorage["lecon-"+l]&&(c.currentTime=+localStorage["lecon-"+l]));K.text(B(c.duration));q.find("div").height(100*c.volume+"%");C=c.volume;event=new CustomEvent("lessonPlayerReady");m.dispatchEvent(event)});c.addEventListener("timeupdate",
function(){J.text(B(c.currentTime));O.width(c.currentTime/c.duration*100+"%");var b=a(c).attr("number");typeof b!==typeof f&&!1!==b&&0!==c.currentTime&&(localStorage["lecon-"+b]=c.currentTime)});c.addEventListener("volumechange",function(){q.find("div").height(100*c.volume+"%");0<c.volume&&d.hasClass(b.mute)&&d.removeClass(b.mute);0>=c.volume&&!d.hasClass(b.mute)&&d.addClass(b.mute)});c.addEventListener("ended",function(){d.removeClass(b.playing);var e=a(c).attr("number");typeof e!==typeof f&&!1!==
e&&(localStorage.removeItem("lecon-"+e),h.removeClass(b.playing))});y.on(v,function(a){L(a);y.on(z,function(a){L(a)})}).on(F,function(){y.off(z)});p.on("click",function(){d.hasClass(b.mute)?(d.removeClass(b.mute),c.volume=C):(d.addClass(b.mute),C=c.volume,c.volume=0);return!1});P.on("click",function(a){A&&(a.preventDefault(),dispatchEvent(new Event("strictDownload")))});q.on(v,function(a){M(a);q.on(z,function(a){M(a)})}).on(F,function(){q.off(z)})}else d.addClass(b.mini);if(typeof l!==typeof f&&!1!==
l){typeof localStorage["lecon-"+l]!==typeof f&&"undefined"!==localStorage["lecon-"+l]&&(c.currentTime=+localStorage["lecon-"+l]);h.addClass(b.mini).addClass("pull-right");h.attr("number",h.find("audio").attr("number"));h.find("audio").remove();h.prepend(a('<div class="'+b.tenSecondsBack+'" title="\u041e\u0442\u043c\u043e\u0442\u0430\u0442\u044c \u043d\u0430 10 \u0441\u0435\u043a\u0443\u043d\u0434"><a class="fas fa-undo-alt" href="#"></a></div>'));h.find("."+b.tenSecondsBack).prepend(N);a("nav.navbar > .container > .d-flex.order-2 > .navbar-nav").prepend(h);
h.find("."+b.playPause).on("click",function(a){a.preventDefault();return t(!0)});h.find("."+b.tenSecondsBack).on("click",function(a){a.preventDefault();c.currentTime-=10});if("undefined"!==typeof e.hidden){var D="hidden";var E="visibilitychange"}else"undefined"!==typeof e.msHidden?(D="msHidden",E="msvisibilitychange"):"undefined"!==typeof e.webkitHidden&&(D="webkitHidden",E="webkitcisibilitychange");"undefined"===typeof e.addEventListener||D===f?console.log("Audio player requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API"):
A&&e.addEventListener(E,w,!1)}x&&d.addClass(b.playing);d.find("."+b.playPause).on("click",function(){return t(!1)});n.replaceWith(d)});return this}})(jQuery,window,document); //# sourceMappingURL=audioplayer.map
