var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,l,f){a instanceof String&&(a=String(a));for(var g=a.length,k=0;k<g;k++){var v=a[k];if(l.call(f,v,k,a))return{i:k,v:v}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,l,f){a!=Array.prototype&&a!=Object.prototype&&(a[l]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,l,f,g){if(l){f=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var k=a[g];k in f||(f[k]={});f=f[k]}a=a[a.length-1];g=f[a];l=l(g);l!=g&&null!=l&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:l})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},"es6","es3");$(document).ready(function(){$("audio").audioPlayer();dispatchEvent(new Event("audioplayerReady"))});
(function(a,l,f,g){var k="ontouchstart"in l,v=k?"touchstart":"mousedown",y=k?"touchmove":"mousemove",B=k?"touchcancel":"mouseup",z=function(a){var b=Math.floor(a/3600),e=Math.floor(a%3600/60);a=Math.ceil(a%3600%60);return(0==b?"":2>b.toString().length?"0"+b:b)+(0==b?"":":")+(2>e.toString().length?"0"+e:e)+":"+(2>a.toString().length?"0"+a:a)},C=function(a){f.createElement("audio");return!0};a.fn.audioPlayer=function(e){e=a.extend({classPrefix:"audioplayer",strPlay:"Play",strPause:"Pause",strVolume:"Volume"},
e);var b={},f={playPause:"playpause",playing:"playing",time:"time",timeCurrent:"time-current",timeDuration:"time-duration",bar:"bar",barLoaded:"bar-loaded",barPlayed:"bar-played",volume:"volume",volumeButton:"volume-button",volumeAdjust:"volume-adjust",noVolume:"novolume",mute:"mute",mini:"mini",download:"download",downloadButton:"download-button",tenSecondsBack:"ten-seconds-back",tenSecondsBackMask:"ten-seconds-back-mask"},I=a('<svg class="'+f.tenSecondsBackMask+'">\n      <defs>\n        <pattern id="pattern-stripe" width="3" height="2" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">\n          <rect width="1" height="3" transform="translate(0,0)" fill="white" data-darkreader-inline-fill="" style="--darkreader-inline-fill:#bdbdbd;"></rect>\n        </pattern>\n        <mask id="mask-stripe">\n          <rect x="0" y="0" width="100%" height="100%" fill="url(#pattern-stripe)"></rect>\n        </mask>      \n      </defs>\n\n      \x3c!-- bar chart --\x3e\n      <rect class="hbar thing-2" x="0" y="0" width="32" height="32" style="\n    mask: url(#mask-stripe);\n    fill: #292b2c;\n"></rect>\n    \n</svg>'),
t;for(t in f)b[t]=e.classPrefix+"-"+f[t];this.each(function(){function f(D){d.hasClass(b.playing)?(a(this).attr("title",e.strPlay).find("a").html(e.strPlay),typeof h!==typeof g&&(D?d.find("."+b.playPause).attr("title",e.strPlay).find("a").html(e.strPlay):h.find("."+b.playPause).attr("title",e.strPlay).find("a").html(e.strPlay),h.removeClass(b.playing)),d.removeClass(b.playing),q?c.pause():c.Stop()):(a(this).attr("title",e.strPause).find("a").html(e.strPause),typeof h!==typeof g&&(D?d.find("."+b.playPause).attr("title",
e.strPause).find("a").html(e.strPause):h.find("."+b.playPause).attr("title",e.strPlay).find("a").html(e.strPause),h.addClass(b.playing)),d.addClass(b.playing),q?c.play():c.Play());return!1}if("audio"!=a(this).prop("tagName").toLowerCase())return!1;var r=a(this),u=r.attr("src"),w=r.get(0).getAttribute("autoplay");w=""===w||"autoplay"===w?!0:!1;var m=r.get(0).getAttribute("loop");m=""===m||"loop"===m?!0:!1;var q=!1,t=r.get(0).getAttribute("set-time");"undefined"===typeof u?r.find("source").each(function(){u=
a(this).attr("src");if("undefined"!==typeof u&&C(u))return q=!0,!1}):C(u)&&(q=!0);var d=a('<div class="'+e.classPrefix+'">'+(q?a("<div>").append(r.eq(0).clone()).html():'<embed src="'+u+'" width="0" height="0" volume="100" autostart="'+w.toString()+'" loop="'+m.toString()+'" />')+'<div class="'+b.playPause+'" title="'+e.strPlay+'"><a href="#">'+e.strPlay+"</a></div></div>"),c=q?d.find("audio"):d.find("embed");c=c.get(0);var n=a(c).attr("number");if(typeof n!==typeof g&&!1!==n)var h=d.clone();if(q){d.find("audio").css({width:0,
height:0,visibility:"hidden"});d.append('<div class="'+b.time+" "+b.timeCurrent+'"></div><div class="'+b.bar+'"><div class="'+b.barLoaded+'"></div><div class="'+b.barPlayed+'"></div></div><div class="'+b.time+" "+b.timeDuration+'"></div><div class="'+b.volume+'"><div class="'+b.volumeButton+'" title="'+e.strVolume+'"><a href="#">'+e.strVolume+'</a></div><div class="'+b.volumeAdjust+'"><div><div></div></div></div></div>');m=a(c).attr("data-downloadable");typeof m!==typeof g&&!1!==m&&"empty"!==m?(m=
a(c).find("source").attr("src"),d.append('<div class="'+b.download+'"><a download="true" href="'+m+'&download=true" class="'+b.downloadButton+' fa fa-download"></a></div><div class="audioplayer-space"></div>'),a(c).attr("id","lesson-audio"),a(c).attr("number",n)):"empty"===m&&d.append('<div class="'+b.download+'"><a download="true" class="'+b.downloadButton+' fa fa-download"></a></div>');event=new CustomEvent("downloadButtonReady");l.dispatchEvent(event);var x=d.find("."+b.bar),J=d.find("."+b.barPlayed);
d.find("."+b.barLoaded);var E=d.find("."+b.timeCurrent),F=d.find("."+b.timeDuration);m=d.find("."+b.volumeButton);var p=d.find("."+b.volumeAdjust+" > div"),A=0,G=function(a){theRealEvent=k?a.originalEvent.touches[0]:a;c.currentTime=Math.round(c.duration*(theRealEvent.pageX-x.offset().left)/x.width())},H=function(a){theRealEvent=k?a.originalEvent.touches[0]:a;c.volume=Math.abs((theRealEvent.pageY-(p.offset().top+p.height()))/p.height())},K=c.volume,L=c.volume=.111;Math.round(1E3*c.volume)/1E3==L?c.volume=
K:d.addClass(b.noVolume);F.html("&hellip;");E.text(z(0));c.addEventListener("loadeddata",function(){typeof n!==typeof g&&!1!==n&&(t?c.currentTime=t:typeof localStorage["lecon-"+n]!==typeof g&&"undefined"!==localStorage["lecon-"+n]&&(c.currentTime=+localStorage["lecon-"+n]));F.text(z(c.duration));p.find("div").height(100*c.volume+"%");A=c.volume;event=new CustomEvent("lessonPlayerReady");l.dispatchEvent(event)});c.addEventListener("timeupdate",function(){E.text(z(c.currentTime));J.width(c.currentTime/
c.duration*100+"%");var b=a(c).attr("number");typeof b!==typeof g&&!1!==b&&0!==c.currentTime&&(localStorage["lecon-"+b]=c.currentTime)});c.addEventListener("volumechange",function(){p.find("div").height(100*c.volume+"%");0<c.volume&&d.hasClass(b.mute)&&d.removeClass(b.mute);0>=c.volume&&!d.hasClass(b.mute)&&d.addClass(b.mute)});c.addEventListener("ended",function(){d.removeClass(b.playing);var e=a(c).attr("number");typeof e!==typeof g&&!1!==e&&(localStorage.removeItem("lecon-"+e),h.removeClass(b.playing))});
x.on(v,function(a){G(a);x.on(y,function(a){G(a)})}).on(B,function(){x.off(y)});m.on("click",function(){d.hasClass(b.mute)?(d.removeClass(b.mute),c.volume=A):(d.addClass(b.mute),A=c.volume,c.volume=0);return!1});p.on(v,function(a){H(a);p.on(y,function(a){H(a)})}).on(B,function(){p.off(y)})}else d.addClass(b.mini);typeof n!==typeof g&&!1!==n&&(typeof localStorage["lecon-"+n]!==typeof g&&"undefined"!==localStorage["lecon-"+n]&&(c.currentTime=+localStorage["lecon-"+n]),h.addClass(b.mini).addClass("pull-right"),
h.attr("number",h.find("audio").attr("number")),h.find("audio").remove(),h.prepend(a('<div class="'+b.tenSecondsBack+'" title="\u041e\u0442\u043c\u043e\u0442\u0430\u0442\u044c \u043d\u0430 10 \u0441\u0435\u043a\u0443\u043d\u0434"><a class="fas fa-undo-alt" href="#"></a></div>')),h.find("."+b.tenSecondsBack).prepend(I),a("nav.navbar > .container > .d-flex.order-2 > .navbar-nav").prepend(h),h.find("."+b.playPause).on("click",function(a){a.preventDefault();return f(!0)}));w&&d.addClass(b.playing);d.find("."+
b.playPause).on("click",function(){return f(!1)});h.find("."+b.tenSecondsBack).on("click",function(a){a.preventDefault();c.currentTime-=10});r.replaceWith(d)});return this}})(jQuery,window,document);
