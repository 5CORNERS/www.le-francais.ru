var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,m,e){b instanceof String&&(b=String(b));for(var f=b.length,k=0;k<f;k++){var v=b[k];if(m.call(e,v,k,b))return{i:k,v:v}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,m,e){b!=Array.prototype&&b!=Object.prototype&&(b[m]=e.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,m,e,f){if(m){e=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var k=b[f];k in e||(e[k]={});e=e[k]}b=b[b.length-1];f=e[b];m=m(f);m!=f&&null!=m&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:m})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,e){return $jscomp.findInternal(this,b,e).v}},"es6","es3");$(document).ready(function(){$("audio").audioPlayer();dispatchEvent(new Event("audioplayerReady"))});
(function(b,m,e,f){var k="ontouchstart"in m,v=k?"touchstart":"mousedown",z=k?"touchmove":"mousemove",H=k?"touchcancel":"mouseup",C=function(b){var a=Math.floor(b/3600),e=Math.floor(b%3600/60);b=Math.ceil(b%3600%60);return(0==a?"":2>a.toString().length?"0"+a:a)+(0==a?"":":")+(2>e.toString().length?"0"+e:e)+":"+(2>b.toString().length?"0"+b:b)},I=function(b){e.createElement("audio");return!0};b.fn.audioPlayer=function(g){g=b.extend({classPrefix:"audioplayer",strPlay:"Play",strPause:"Pause",strVolume:"Volume"},
g);var a={},r={playPause:"playpause",playing:"playing",time:"time",timeCurrent:"time-current",timeDuration:"time-duration",bar:"bar",barLoaded:"bar-loaded",barPlayed:"bar-played",volume:"volume",volumeButton:"volume-button",volumeAdjust:"volume-adjust",noVolume:"novolume",mute:"mute",mini:"mini",download:"download",downloadButton:"download-button",tenSecondsBack:"ten-seconds-back",tenSecondsBackMask:"ten-seconds-back-mask"},O=b('<svg class="'+r.tenSecondsBackMask+'">\n      <defs>\n        <pattern id="pattern-stripe" width="3" height="2" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">\n          <rect width="1" height="3" transform="translate(0,0)" fill="white" data-darkreader-inline-fill="" style="--darkreader-inline-fill:#bdbdbd;"></rect>\n        </pattern>\n        <mask id="mask-stripe">\n          <rect x="0" y="0" width="100%" height="100%" fill="url(#pattern-stripe)"></rect>\n        </mask>      \n      </defs>\n\n      \x3c!-- bar chart --\x3e\n      <rect class="hbar thing-2" x="0" y="0" width="32" height="32" style="\n    mask: url(#mask-stripe);\n    fill: #292b2c;\n"></rect>\n    \n</svg>'),
w;for(w in r)a[w]=g.classPrefix+"-"+r[w];this.each(function(){function r(J){if(d.hasClass(a.playing))b(this).attr("title",g.strPlay).find("a").html(g.strPlay),typeof h!==typeof f&&(J?d.find("."+a.playPause).attr("title",g.strPlay).find("a").html(g.strPlay):h.find("."+a.playPause).attr("title",g.strPlay).find("a").html(g.strPlay),h.removeClass(a.playing)),d.removeClass(a.playing),t?c.pause():c.Stop();else{if(typeof l!==typeof f&&!1!==l&&e.hidden)return!1;b(this).attr("title",g.strPause).find("a").html(g.strPause);
typeof h!==typeof f&&(J?d.find("."+a.playPause).attr("title",g.strPause).find("a").html(g.strPause):h.find("."+a.playPause).attr("title",g.strPlay).find("a").html(g.strPause),h.addClass(a.playing));d.addClass(a.playing);t?c.play():c.Play()}return!1}function w(){!A||userlesson!==f&&!1!==userlesson||!1!==NEED_PAYMENT||(e.hidden&&d.hasClass(a.playing)?(r(!1),B=c.currentTime,c.src="",c.load(),D=!0):e.hidden||d.hasClass(a.playing)||(c.src=u,c.load(),c.currentTime=B,D&&(dispatchEvent(new Event("unhiddenWasPlaying")),
D=!1)))}if("audio"!=b(this).prop("tagName").toLowerCase())return!1;var n=b(this),u=n.attr("src"),x=n.get(0).getAttribute("autoplay"),p=n.get(0).getAttribute("loop"),t=!1,B=n.get(0).getAttribute("set-time"),A=!0===n.data("strict");x=""===x||"autoplay"===x;p=""===p||"loop"===p;"undefined"===typeof u?n.find("source").each(function(){u=b(this).attr("src");if("undefined"!==typeof u&&I(u))return t=!0,!1}):I(u)&&(t=!0);var d=b('<div class="'+g.classPrefix+'">'+(t?b("<div>").append(n.eq(0).clone()).html():
'<embed src="'+u+'" width="0" height="0" volume="100" autostart="'+x.toString()+'" loop="'+p.toString()+'" />')+'<div class="'+a.playPause+'" title="'+g.strPlay+'"><a href="#">'+g.strPlay+"</a></div></div>"),c=t?d.find("audio"):d.find("embed");c=c.get(0);var l=b(c).attr("number"),D;if(typeof l!==typeof f&&!1!==l)var h=d.clone();if(t){d.find("audio").css({width:0,height:0,visibility:"hidden"});d.append('<div class="'+a.time+" "+a.timeCurrent+'"></div><div class="'+a.bar+'"><div class="'+a.barLoaded+
'"></div><div class="'+a.barPlayed+'"></div></div><div class="'+a.time+" "+a.timeDuration+'"></div><div class="'+a.volume+'"><div class="'+a.volumeButton+'" title="'+g.strVolume+'"><a href="#">'+g.strVolume+'</a></div><div class="'+a.volumeAdjust+'"><div><div></div></div></div></div>');!0===b(c).data("downloadable")&&(p=b(c).find("source").attr("src"),A?d.append('<div class="'+a.download+'"><a download="true" href="#" class="'+a.downloadButton+' fa fa-download"></a></div>'):d.append('<div class="'+
a.download+'"><a download="true" href="'+p+'&download=true" class="'+a.downloadButton+' fa fa-download"></a></div><div class="audioplayer-space"></div>'),b(c).attr("id","lesson-audio"),b(c).attr("number",l));m.dispatchEvent(new CustomEvent("downloadButtonReady"));var y=d.find("."+a.bar),P=d.find("."+a.barPlayed);d.find("."+a.barLoaded);var K=d.find("."+a.timeCurrent),L=d.find("."+a.timeDuration);p=d.find("."+a.volumeButton);var q=d.find("."+a.volumeAdjust+" > div"),Q=d.find("."+a.downloadButton),
E=0,M=function(a){theRealEvent=k?a.originalEvent.touches[0]:a;c.currentTime=Math.round(c.duration*(theRealEvent.pageX-y.offset().left)/y.width())},N=function(a){theRealEvent=k?a.originalEvent.touches[0]:a;c.volume=Math.abs((theRealEvent.pageY-(q.offset().top+q.height()))/q.height())},R=c.volume,S=c.volume=.111;Math.round(1E3*c.volume)/1E3==S?c.volume=R:d.addClass(a.noVolume);L.html("&hellip;");K.text(C(0));c.addEventListener("loadeddata",function(){typeof l!==typeof f&&!1!==l&&(B?c.currentTime=B:
typeof localStorage["lecon-"+l]!==typeof f&&"undefined"!==localStorage["lecon-"+l]&&(c.currentTime=+localStorage["lecon-"+l]));L.text(C(c.duration));q.find("div").height(100*c.volume+"%");E=c.volume;event=new CustomEvent("lessonPlayerReady");m.dispatchEvent(event)});c.addEventListener("timeupdate",function(){K.text(C(c.currentTime));P.width(c.currentTime/c.duration*100+"%");var a=b(c).attr("number");typeof a!==typeof f&&!1!==a&&0!==c.currentTime&&(localStorage["lecon-"+a]=c.currentTime)});c.addEventListener("volumechange",
function(){q.find("div").height(100*c.volume+"%");0<c.volume&&d.hasClass(a.mute)&&d.removeClass(a.mute);0>=c.volume&&!d.hasClass(a.mute)&&d.addClass(a.mute)});c.addEventListener("ended",function(){d.removeClass(a.playing);var e=b(c).attr("number");typeof e!==typeof f&&!1!==e&&(localStorage.removeItem("lecon-"+e),h.removeClass(a.playing))});y.on(v,function(a){M(a);y.on(z,function(a){M(a)})}).on(H,function(){y.off(z)});p.on("click",function(){d.hasClass(a.mute)?(d.removeClass(a.mute),c.volume=E):(d.addClass(a.mute),
E=c.volume,c.volume=0);return!1});if(A)Q.on("click.strict",function(a){a.preventDefault();dispatchEvent(new Event("strictDownload"))});q.on(v,function(a){N(a);q.on(z,function(a){N(a)})}).on(H,function(){q.off(z)})}else d.addClass(a.mini);if(typeof l!==typeof f&&!1!==l){typeof localStorage["lecon-"+l]!==typeof f&&"undefined"!==localStorage["lecon-"+l]&&(c.currentTime=+localStorage["lecon-"+l]);h.addClass(a.mini).addClass("pull-right");h.attr("number",h.find("audio").attr("number"));h.find("audio").remove();
h.prepend(b('<div class="'+a.tenSecondsBack+'" title="\u041e\u0442\u043c\u043e\u0442\u0430\u0442\u044c \u043d\u0430 10 \u0441\u0435\u043a\u0443\u043d\u0434"><a class="fas fa-undo-alt" href="#"></a></div>'));h.find("."+a.tenSecondsBack).prepend(O);b("nav.navbar > .container > .d-flex.order-2 > .navbar-nav").prepend(h);h.find("."+a.playPause).on("click",function(a){a.preventDefault();return r(!0)});h.find("."+a.tenSecondsBack).on("click",function(a){a.preventDefault();c.currentTime-=10});if("undefined"!==
typeof e.hidden){var F="hidden";var G="visibilitychange"}else"undefined"!==typeof e.msHidden?(F="msHidden",G="msvisibilitychange"):"undefined"!==typeof e.webkitHidden&&(F="webkitHidden",G="webkitcisibilitychange");"undefined"===typeof e.addEventListener||F===f?console.log("Audio player requires a browser, such as Google Chrome or Firefox, that supports the Page Visibility API"):A&&e.addEventListener(G,w,!1)}x&&d.addClass(a.playing);d.find("."+a.playPause).on("click",function(){return r(!1)});n.replaceWith(d)});
return this}})(jQuery,window,document); //# sourceMappingURL=audioplayer.map
