var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,k,f){a instanceof String&&(a=String(a));for(var g=a.length,h=0;h<g;h++){var v=a[h];if(k.call(f,v,h,a))return{i:h,v:v}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,k,f){a!=Array.prototype&&a!=Object.prototype&&(a[k]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,k,f,g){if(k){f=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var h=a[g];h in f||(f[h]={});f=f[h]}a=a[a.length-1];g=f[a];k=k(g);k!=g&&null!=k&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:k})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},"es6","es3");$(document).ready(function(){$("audio").audioPlayer();dispatchEvent(new Event("audioplayerReady"))});
(function(a,k,f,g){var h="ontouchstart"in k,v=h?"touchstart":"mousedown",y=h?"touchmove":"mousemove",B=h?"touchcancel":"mouseup",z=function(a){var b=Math.floor(a/3600),e=Math.floor(a%3600/60);a=Math.ceil(a%3600%60);return(0==b?"":2>b.toString().length?"0"+b:b)+(0==b?"":":")+(2>e.toString().length?"0"+e:e)+":"+(2>a.toString().length?"0"+a:a)},C=function(a){f.createElement("audio");return!0};a.fn.audioPlayer=function(e){e=a.extend({classPrefix:"audioplayer",strPlay:"Play",strPause:"Pause",strVolume:"Volume"},
e);var b={},f={playPause:"playpause",playing:"playing",time:"time",timeCurrent:"time-current",timeDuration:"time-duration",bar:"bar",barLoaded:"bar-loaded",barPlayed:"bar-played",volume:"volume",volumeButton:"volume-button",volumeAdjust:"volume-adjust",noVolume:"novolume",mute:"mute",mini:"mini",download:"download",downloadButton:"download-button"},t;for(t in f)b[t]=e.classPrefix+"-"+f[t];this.each(function(){function f(D){d.hasClass(b.playing)?(a(this).attr("title",e.strPlay).find("a").html(e.strPlay),
typeof l!==typeof g&&(D?d.find("."+b.playPause).attr("title",e.strPlay).find("a").html(e.strPlay):l.find("."+b.playPause).attr("title",e.strPlay).find("a").html(e.strPlay),l.removeClass(b.playing)),d.removeClass(b.playing),q?c.pause():c.Stop()):(a(this).attr("title",e.strPause).find("a").html(e.strPause),typeof l!==typeof g&&(D?d.find("."+b.playPause).attr("title",e.strPause).find("a").html(e.strPause):l.find("."+b.playPause).attr("title",e.strPlay).find("a").html(e.strPause),l.addClass(b.playing)),
d.addClass(b.playing),q?c.play():c.Play());return!1}if("audio"!=a(this).prop("tagName").toLowerCase())return!1;var r=a(this),u=r.attr("src"),w=r.get(0).getAttribute("autoplay");w=""===w||"autoplay"===w?!0:!1;var m=r.get(0).getAttribute("loop");m=""===m||"loop"===m?!0:!1;var q=!1,t=r.get(0).getAttribute("set-time");"undefined"===typeof u?r.find("source").each(function(){u=a(this).attr("src");if("undefined"!==typeof u&&C(u))return q=!0,!1}):C(u)&&(q=!0);var d=a('<div class="'+e.classPrefix+'">'+(q?
a("<div>").append(r.eq(0).clone()).html():'<embed src="'+u+'" width="0" height="0" volume="100" autostart="'+w.toString()+'" loop="'+m.toString()+'" />')+'<div class="'+b.playPause+'" title="'+e.strPlay+'"><a href="#">'+e.strPlay+"</a></div></div>"),c=q?d.find("audio"):d.find("embed");c=c.get(0);var n=a(c).attr("number");if(typeof n!==typeof g&&!1!==n)var l=d.clone();if(q){d.find("audio").css({width:0,height:0,visibility:"hidden"});d.append('<div class="'+b.time+" "+b.timeCurrent+'"></div><div class="'+
b.bar+'"><div class="'+b.barLoaded+'"></div><div class="'+b.barPlayed+'"></div></div><div class="'+b.time+" "+b.timeDuration+'"></div><div class="'+b.volume+'"><div class="'+b.volumeButton+'" title="'+e.strVolume+'"><a href="#">'+e.strVolume+'</a></div><div class="'+b.volumeAdjust+'"><div><div></div></div></div></div>');m=a(c).attr("data-downloadable");typeof m!==typeof g&&!1!==m&&"empty"!==m?(m=a(c).find("source").attr("src"),d.append('<div class="'+b.download+'"><a download="true" href="'+m+'" class="'+
b.downloadButton+' glyphicon glyphicon-download"></a></div>'),a(c).attr("id","lesson-audio"),a(c).attr("number",n)):"empty"===m&&d.append('<div class="'+b.download+'"><a download="true" class="'+b.downloadButton+' glyphicon glyphicon-download"></a></div>');event=new CustomEvent("downloadButtonReady");k.dispatchEvent(event);var x=d.find("."+b.bar),I=d.find("."+b.barPlayed);d.find("."+b.barLoaded);var E=d.find("."+b.timeCurrent),F=d.find("."+b.timeDuration);m=d.find("."+b.volumeButton);var p=d.find("."+
b.volumeAdjust+" > div"),A=0,G=function(a){theRealEvent=h?a.originalEvent.touches[0]:a;c.currentTime=Math.round(c.duration*(theRealEvent.pageX-x.offset().left)/x.width())},H=function(a){theRealEvent=h?a.originalEvent.touches[0]:a;c.volume=Math.abs((theRealEvent.pageY-(p.offset().top+p.height()))/p.height())},J=c.volume,K=c.volume=.111;Math.round(1E3*c.volume)/1E3==K?c.volume=J:d.addClass(b.noVolume);F.html("&hellip;");E.text(z(0));c.addEventListener("loadeddata",function(){typeof n!==typeof g&&!1!==
n&&(t?c.currentTime=t:typeof localStorage["lecon-"+n]!==typeof g&&"undefined"!==localStorage["lecon-"+n]&&(c.currentTime=+localStorage["lecon-"+n]));F.text(z(c.duration));p.find("div").height(100*c.volume+"%");A=c.volume;event=new CustomEvent("lessonPlayerReady");k.dispatchEvent(event)});c.addEventListener("timeupdate",function(){E.text(z(c.currentTime));I.width(c.currentTime/c.duration*100+"%");var b=a(c).attr("number");typeof b!==typeof g&&!1!==b&&0!==c.currentTime&&(localStorage["lecon-"+b]=c.currentTime)});
c.addEventListener("volumechange",function(){p.find("div").height(100*c.volume+"%");0<c.volume&&d.hasClass(b.mute)&&d.removeClass(b.mute);0>=c.volume&&!d.hasClass(b.mute)&&d.addClass(b.mute)});c.addEventListener("ended",function(){d.removeClass(b.playing);var e=a(c).attr("number");typeof e!==typeof g&&!1!==e&&(localStorage.removeItem("lecon-"+e),l.removeClass(b.playing))});x.on(v,function(a){G(a);x.on(y,function(a){G(a)})}).on(B,function(){x.off(y)});m.on("click",function(){d.hasClass(b.mute)?(d.removeClass(b.mute),
c.volume=A):(d.addClass(b.mute),A=c.volume,c.volume=0);return!1});p.on(v,function(a){H(a);p.on(y,function(a){H(a)})}).on(B,function(){p.off(y)})}else d.addClass(b.mini);typeof n!==typeof g&&!1!==n&&(typeof localStorage["lecon-"+n]!==typeof g&&"undefined"!==localStorage["lecon-"+n]&&(c.currentTime=+localStorage["lecon-"+n]),l.addClass(b.mini).addClass("pull-right"),l.attr("number",l.find("audio").attr("number")),l.find("audio").remove(),a(".nav.navbar-sticky-ul").prepend(l),l.find("."+b.playPause).on("click",
function(a){a.preventDefault();return f(!0)}));w&&d.addClass(b.playing);d.find("."+b.playPause).on("click",function(){return f(!1)});r.replaceWith(d)});return this}})(jQuery,window,document);
