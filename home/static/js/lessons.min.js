var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
var reloadedTabs=[],lazyTabs=[{elementID:"tab-flash-cards",tabID:"flash-cards"},{elementID:"tab-verbs",tabID:"verbs"},{elementID:"tab-my-words",tabID:"my-words"}],clickedTabs=[];
function reloadPage(a,b){b=void 0===b?0:b;$.ajax({type:"GET",url:Urls["api:get_lesson_content"](a,1,b),beforeSend:function(){b&&$("#lazy-"+b).html("\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0438\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")},success:function(a){b&&$("#lazy-"+b).hide();a.tabs.forEach(function(a,b){if(null!=a.value){var c=$('a.nav-link[href="#'+a.href+'"]');c.html(a.title);if(a.transition)$(document).on("hidden.bs.modal",function(){c.parent().fadeIn(500);
c.css({"background-color":"#90ee90",color:"#003e73",transition:"background-color 0.5s ease"});setTimeout(function(){c.css({"background-color":"#ffffff",color:"",transition:"background-color 10s ease"})},500)});$("div.tab-pane#"+a.href).html(a.value);reloadedTabs.push({elementID:c.attr("id"),tabID:a.href})}});$('[data-toggle="popover"]').popover()}})}
function reloadLessonUrl(){$.ajax({type:"POST",url:"/api/get_lesson_url/",data:{csrfmiddlewaretoken:CSRF_TOKEN,lesson_number:LESSON_NUMBER},datatype:"json",success:function(a){if(200===a.status){var b=$("#lesson-audio")[0],c=b.currentTime;b.src(a.lesson_url);b.load();b.currentTime=c;b.play()}}})}function errHandle(a){console.log("Error "+a.error.code+"; details: "+a.error.message)}
$(document).ready(function(){function a(){var a=$("<button class='coffee-button btn btn-success btn-xs' disabled='disabled' id='coffee-button'><img id='coffee-button-image' class='coffee-button-image'"+(" src='"+BY_ME_A_COFFEE_SVG+"'")+"<div id='coffee-button-text' class='coffee-button-text'>\u0412\u044b \u0443\u0436\u0435 \u0443\u0433\u043e\u0449\u0430\u043b\u0438 \u043c\u0435\u043d\u044f<br>\u0437\u0430 \u044d\u0442\u043e\u0442 \u0443\u0440\u043e\u043a :)</div></button>");$("#coffee-button").replaceWith(a)}
function b(a){switch(a){case "get_state":$.ajax({type:"POST",url:Urls["custom_user:saw_message"](),data:{csrfmiddlewaretoken:CSRF_TOKEN,action:"get_state"},success:function(a){if(200===a.status)return!0}});break;case "make_true":saw_message=!0,$.ajax({type:"POST",async:!1,url:Urls["custom_user:saw_message"](),data:{csrfmiddlewaretoken:CSRF_TOKEN,action:"make_true"},success:function(a){if(200===a.status)return!0}})}}lazyTabs.forEach(function(a,b){$("a#"+a.elementID).one("show.bs.tab",function(){clickTab(a.tabID)})});
var c=window.navigator.userAgent,d=!!c.match(/iPad/i)||!!c.match(/iPhone/i),e=!!c.match(/WebKit/i),g=d&&e&&!c.match(/CriOS/i);if(NEED_PAYMENT){var f=function(a){switch(a){case "tab":case "download":case "ended":a=$("#lesson-audio")[0];localStorage["lecon-{{ self.lesson_number }}"]=a.duration-5;IS_AUTHENTICATED?saw_message?$("#lesson-not-activated-simple-modal").modal("show"):$("#lesson-not-activated-details-continue-modal").modal("show"):$("#listen-login-required-modal").modal("show");break;case "button":saw_message?
f("proceed"):$("#lesson-not-activated-details-activate-modal").modal("show");break;case "saw":b("make_true");break;case "proceed":userlesson||h()}},h=function(){$(".success-message").hide();$(".fail-message").hide();$(".minus-cups").hide();$(".unsofficiant-cups-credit").hide();$(".waiting-message").show();$("#lesson-activated-modal").modal("show");$.ajax({type:"POST",url:Urls["activate:activate_lesson"](),data:{csrfmiddlewaretoken:CSRF_TOKEN,lesson_number:LESSON_NUMBER},datatype:"json",cache:!1,headers:{"cache-control":"no-cache"},
async:!g,success:function(a){"SUCCESS"===a.result?(a=Math.floor(1E3*Math.random())%4,console.log(a),a="https://files.le-francais.ru/sound/"+activateSounds[a],$('<audio class="sound-player" autoplay="autoplay" style="display:none;"><source src="'+a+'" /><embed src="'+a+'" hidden="true" autostart="true" loop="false"/></audio>').appendTo("body")[0].play(),window.location.href=window.location.pathname+"?"+$.param({modal_open:"lesson-activated-modal"})):"ZERO_CUPS"===a.result?($(".waiting-message").hide(),
$(".unsofficiant-cups").show(),0>cups_amount&&0===cups_credit&&($("#activated-dismiss-button").hide(),$("#activated-unsofficiant-cups-button").hide(),$(".unsofficiant-cups-credit").show())):"ALREADY"===a.result?($(".waiting-message").hide(),$(".already-activated").show()):"NOT_AUTH"===a.result&&($(".waiting-message").hide(),$(".login-need").show())}})};$("[data-saw-proceed]").on("click",function(){f("saw");setTimeout(f("proceed"),1E3)});activateSounds=["composter-01.mp3","composter-02.mp3","composter-03.mp3",
"composter-04.mp3"];if(!userlesson&&must_pay||NEED_PAYMENT&&!IS_AUTHENTICATED)window.addEventListener("lessonPlayerReady",function(){$(".audioplayer-download-button")[0].addEventListener("click",function(){f("download")});$("#lesson-audio")[0].addEventListener("ended",function(){f("ended")})}),$("[data-activate-lesson]").click(function(){f($(this).data("activate-lesson"))}),$("#tab-flash-cards").removeAttr("data-toggle"),$("#tab-exercises-de-lesson").removeAttr("data-toggle"),$("#tab-exercise").removeAttr("data-toggle"),
$("#tab-flash-cards").click(function(a){a.preventDefault();f("tab")}),$("#tab-exercises-de-lesson").click(function(a){a.preventDefault();f("tab")}),$("#tab-exercise").click(function(a){a.preventDefault();f("tab")})}else if(!IS_AUTHENTICATED&&5<LESSON_NUMBER)$(window).one("lessonPlayerReady",function(){$(".audioplayer-download-button").on("click",function(a){a.preventDefault();$.ajax({url:Urls["modal:download_login_required"](),type:"GET",data:{redirect_url:window.location.pathname},datatype:"html",
success:function(a){$(a).modal("show")}})})});$(".coffee-proceed").on("click",function(){$(".modal").modal("hide");$.ajax({type:"POST",url:Urls["coffee:give_me_a_coffee"](),data:{lesson_number:LESSON_NUMBER,csrfmiddlewaretoken:CSRF_TOKEN},async:!g,datatype:"json",cache:!1,headers:{"cache-control":"no-cache"},success:function(b){"SUCCESS"===b.result?((new Audio(COFFEE_SOUND_URL)).play(),$("#give-me-a-coffee-success-message").html(b.description),$("#give-me-a-coffee-complete-modal").modal("show"),a(),
$("#lessonAudioBlock").find(".audioplayer-download-button").attr("href",LESSON_LISTEN_URL).off(".strict"),userlesson=!0,reloadPage(LESSON_NUMBER)):"ALREADY"===b.result?($("#give-me-a-coffee-fail-message").html(b.description),$("#give-me-a-coffee-fail-modal").modal("show"),a(),reloadPage(LESSON_NUMBER)):($("#give-me-a-coffee-fail-message").html(b.description),$("#give-me-a-coffee-fail-modal").modal("show"))},error:function(a,b){$("#give-me-a-coffee-fail-message").html(b);$("#give-me-a-coffee-fail-modal").modal("show")}})});
addEventListener("strictDownload",function(a){!0!==!NEED_PAYMENT||!0!==must_pay||userlesson||$("#strictDownloadModal").modal("show")});addEventListener("unhiddenWasPlaying",function(a){$("#hiddenWasListeningModal").modal("show")});$("#unhiddenWasPlaying").click(function(a){$("#lessonAudioBlock").find("#playpause").click()});$("#strictDownloadModelWhyThis").popover({content:'<p>\u041c\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c \u0438 \u0443\u043b\u0443\u0447\u0448\u0430\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0432\u043e\u0438\u043c\u0438 \u0441\u0438\u043b\u0430\u043c\u0438. \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c\n    \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0441\u0430\u0439\u0442\u043e\u043c, \u043d\u0430\u043c \u0432\u0430\u0436\u043d\u0430 \u0412\u0430\u0448\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430.</p>\n\n<p>\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u0437\u0430 \u0443\u0440\u043e\u043a\u0438 \u0438\u0434\u0435\u0442 \u043d\u0430 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u0435 \u0441\u0430\u0439\u0442\u0430 <a\n        id="serversMapImageLink" tabindex="0"\n        class="fas fa-info-circle text-primary"\n        style="position: relative;top: 1px;"></a> \u0438 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435\n    \u0442\u0435\u043c, <a href="'+
WHO_DO_YOU_THINK_WE_ARE+'" title="\u043a\u0442\u043e \u044d\u0442\u0438 \u043b\u044e\u0434\u0438?"\n            target="_blank"> \u043a\u0442\u043e \u043d\u0430\u0434 \u043d\u0438\u043c \u0442\u0440\u0443\u0434\u0438\u0442\u0441\u044f <i\n            class="fas fa-external-link-alt"></i></a>.</p>\n\n<p class="mb-0"><b>\u041e\u0434\u043d\u0430\u043a\u043e, \u0441\u0435\u0439\u0447\u0430\u0441 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043f\u043e\u0434 \u0443\u0433\u0440\u043e\u0437\u043e\u0439.</b>\n    \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u0440\u0430\u0434\u044b, \u0435\u0441\u043b\u0438 \u0412\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0442\u0435 \u043d\u0430\u0441 \u0432 \u044d\u0442\u043e\u0442 \u043f\u0435\u0440\u0438\u043e\u0434.</p>',
html:!0,placement:"top",trigger:"click",template:'<div class="popover" role="tooltip"><div class="arrow"></div><span class="pop-close close">\u00d7</span><div class="popover-body"></div></div>'}).on("shown.bs.popover",function(){$(".pop-close").on("click",function(){$("#strictDownloadModelWhyThis").popover("hide")});$("#serversMapImageLink").on("click",function(){$("#strictPopoverModalWhyThis").popover("hide");$("#serversMapImageModal").modal("show").one("hide.bs.modal",function(){$("#strictDownloadModal").modal("show")});
$("#strictDownloadModal").modal("hide")})});$("#StrictDownloadModelCoffeeButton").on("click",function(){$("#strictDownloadModal").modal("hide")});$("#hiddenWasListeningModalWhyThis").popover({content:'<p>\u041c\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c \u0438 \u0443\u043b\u0443\u0447\u0448\u0430\u0435\u043c \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0432\u043e\u0438\u043c\u0438 \u0441\u0438\u043b\u0430\u043c\u0438. \u0427\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c\n    \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0441\u0430\u0439\u0442\u043e\u043c, \u043d\u0430\u043c \u0432\u0430\u0436\u043d\u0430 \u0412\u0430\u0448\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430.</p>\n\n<p>\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u0437\u0430 \u0443\u0440\u043e\u043a\u0438 \u0438\u0434\u0435\u0442 \u043d\u0430 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u0435 \u0441\u0430\u0439\u0442\u0430 <a\n        id="serversMapImageLink" tabindex="0"\n        class="fas fa-info-circle text-primary"\n        style="position: relative;top: 1px;"></a> \u0438 \u0432\u043e\u0437\u043d\u0430\u0433\u0440\u0430\u0436\u0434\u0435\u043d\u0438\u0435\n    \u0442\u0435\u043c, <a href="'+
WHO_DO_YOU_THINK_WE_ARE+'" title="\u043a\u0442\u043e \u044d\u0442\u0438 \u043b\u044e\u0434\u0438?"\n            target="_blank"> \u043a\u0442\u043e \u043d\u0430\u0434 \u043d\u0438\u043c \u0442\u0440\u0443\u0434\u0438\u0442\u0441\u044f <i\n            class="fas fa-external-link-alt"></i></a>.</p>\n\n<p class="mb-0"><b>\u041e\u0434\u043d\u0430\u043a\u043e, \u0441\u0435\u0439\u0447\u0430\u0441 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u043f\u043e\u0434 \u0443\u0433\u0440\u043e\u0437\u043e\u0439.</b>\n    \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u043c\u044b \u0431\u0443\u0434\u0435\u043c \u0440\u0430\u0434\u044b, \u0435\u0441\u043b\u0438 \u0412\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0442\u0435 \u043d\u0430\u0441 \u0432 \u044d\u0442\u043e\u0442 \u043f\u0435\u0440\u0438\u043e\u0434.</p>',
html:!0,placement:"top",trigger:"click",template:'<div class="popover" role="tooltip"><div class="arrow"></div><span class="pop-close close">\u00d7</span><div class="popover-body"></div></div>'}).on("shown.bs.popover",function(){$(".pop-close").on("click",function(){$("#hiddenWasListeningModalWhyThis").popover("hide")});$("#serversMapImageLink").on("click",function(){$("#strictPopoverModalWhyThis").popover("hide");$("#serversMapImageModal").modal("show").one("hide.bs.modal",function(){$("#hiddenWasListeningModal").modal("show")});
$("#hiddenWasListeningModal").modal("hide")})});$("#hiddenWasListeningModalCoffeeButton").on("click",function(){$("#hiddenWasListeningModal").modal("hide")})}); //# sourceMappingURL=lessons.map
