var polly={},audio=void 0,ua=window.navigator.userAgent,iOS=!!ua.match(/iPad/i)||!!ua.match(/iPhone/i),is_webkit=!!ua.match(/WebKit/i),iOSSafari=iOS&&is_webkit&&!ua.match(/CriOS/i),NORMAL_CLASS="fa-volume-down",LOADING_CLASS="fa-spinner fa-pulse",SPEAKING_CLASS="fa-volume-up",ERROR_CLASS="fa-exclamation-circle red",classes=[NORMAL_CLASS,LOADING_CLASS,SPEAKING_CLASS,ERROR_CLASS];function changeClassTo(b,a){for(var c in classes)$(b).removeClass(classes[c]);$(b).addClass(a)}
function pollyListen(b,a){"False"===IS_REFLEXIVE&&"indicative"===b.attributes["data-mood"].value&&"present"===b.attributes["data-tense"].value&&"None"!==AUDIO_URL&&(polly[a]=AUDIO_URL);void 0===polly[a]?(changeClassTo(b,LOADING_CLASS),$.ajax({url:CONJ_POLLY_URL,type:"POST",async:!iOSSafari,datatype:"json",data:{csrfmiddlewaretoken:CSRF_TOKEN,key:a},success:function(c){polly[a]=c[a].url;pollyListen(b,a)},error:function(a){changeClassTo(b,ERROR_CLASS)}})):(audio=new Audio([polly[a]]),audio.attributes["data-key"]=
a,audio.addEventListener("play",function(){changeClassTo(b,SPEAKING_CLASS)}),audio.addEventListener("pause",function(){changeClassTo(b,NORMAL_CLASS)}),audio.play())}
function see_less(){$.each($(".in_short_list"),function(b,a){a.style.display="none"});$("#more_tab").removeClass("active");$("#less_tab").addClass("active");$("#more_tab>a").html("\u041f\u043e\u043b\u043d\u0430\u044f").removeClass("active");$("#less_tab>a").html("\u0421\u043e\u043a\u0440\u0430\u0449\u0451\u043d\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f").addClass("active");window.localStorage.setItem("long_list","false")}
function see_more(){$.each($(".in_short_list"),function(b,a){a.style.display="block"});$("#more_tab").addClass("active");$("#more_tab>a").html("\u041f\u043e\u043b\u043d\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f").addClass("active");$("#less_tab").removeClass("active");$("#less_tab>a").html("\u0421\u043e\u043a\u0440\u0430\u0449\u0451\u043d\u043d\u0430\u044f").removeClass("active");window.localStorage.setItem("long_list","true")}
$(document).ready(function(){"true"===window.localStorage.getItem("long_list")&&see_more();$(".play-pause-icon").each(function(){$(this).addClass(NORMAL_CLASS);this.addEventListener("click",function(){if(void 0!==audio&&!audio.paused&&(audio.pause(),audio.currentTime=0,changeClassTo(this,NORMAL_CLASS),audio.attributes["data-key"]===this.attributes["data-key"].value))return;pollyListen(this,this.attributes["data-key"].value)})});$(".nav-pills > li > a").each(function(){this.addEventListener("click",
function(){".form0"!==this.attributes["data-target"].value?$(".play-pause-icon").hide():$(".play-pause-icon").show()})})});
