{% extends 'conjugation/_base.html' %}
{% load static conjugation_tags %}
{% load site_tags %}
{% load user_agents %}
{% load bootstrap4 %}
{% load svg %}
{% load ads %}
{% block title %}{% include 'conjugation/conjugation_title.html' %}{% endblock %}
{% block description %}{% include 'conjugation/conjugation_descritpion.html' %}{% endblock %}

{% block head_advertisments %}
    {% if not is_gpt_disabled %}
        {% conjugation_advertisement_head "lf_fr_conj_rsb_01" %}
        {% conjugation_advertisement_head "lf_fr_conj_rsb_02" %}
        {% conjugation_advertisement_head "lf_fr_conj_mob_01" %}
    {% endif %}
{% endblock %}

{% block extra_js %}
	<script>
		const CONJ_POLLY_URL = '{% url 'conjugation:polly' %}';
		const CSRF_TOKEN = '{{ csrf_token }}';
		const AUDIO_URL = 'None';
		const IS_REFLEXIVE = {{ v.reflexive|yesno:'true,false' }};
		const IS_NEGATIVE = {{ negative|yesno:'true,false' }};
		const IS_QUESTION = {{ question|yesno:'true,false' }};
		const IS_PASSIVE = {{ passive|yesno:'true,false' }};
		const IS_FEMININE = {{ feminin|yesno:'true,false' }};
		const CAN_BE_PASSIVE = {{ v.can_passive|yesno:'true,false' }};
		const CAN_BE_REFLEXIVE = {{ can_be_reflexive|yesno:'true,false' }};
		const CAN_BE_FEMININE = {{ v.can_feminin|yesno:'true,false' }};
		const CAN_BE_PRONOUN = {{ v.can_be_pronoun|yesno:'true,false' }};
		const MUST_BE_PRONOUN = {{ must_be_pronoun|yesno:'true,false' }};
		const VOICE_RANGE_ID = "{{ switches_form.voice.id_for_label }}";
	</script>
	<script async
	        type="text/javascript"
	        src="{% static 'js/le_francais.min.js' %}"></script>
	<script type="text/javascript" src="{% static 'conjugation/js/table.js' %}"></script>

{% endblock %}

{% block extra_css %}

    <style>
        {% for mood in table.moods %}
        /* fluid with one column */
        .{{ mood.html_id }}.tenses-grid {
            display: grid;
        }
        @media (min-width: {{ mood.two_columns_size|add:10 }}px){
        /* fluid with two columns */
            .{{ mood.html_id }}.tenses-grid {
                grid-template-columns: {{ mood.max_odd_length }}px {{ mood.max_even_length }}px;
            }
        }
        @media (min-width: 576px) {
            /* 540px */
        {% if mood.two_columns_size > 540 %}
            .{{ mood.html_id }}.tenses-grid {
                grid-template-columns: 1fr;
            }
        {% else %}
            .{{ mood.html_id }}.tenses-grid {
                grid-template-columns: 1fr 1fr;
            }
            .{{ mood.html_id }} .tense-even {justify-self: start}
        {% endif %}
        }
        @media (min-width: 768px) {
            /* 720px */
        {% if mood.two_columns_size > 720 %}
            .{{ mood.html_id }}.tenses-grid {
                grid-template-columns: 1fr;
            }
        {% else %}
            .{{ mood.html_id }}.tenses-grid {
                grid-template-columns: 1fr 1fr;
            }
            .{{ mood.html_id }} .tense-even {justify-self: start}
        {% endif %}
        }
        @media (min-width: 992px) {
            /* 480px */
        {% if mood.two_columns_size > 480 %}
            .{{ mood.html_id }}.tenses-grid {
                grid-template-columns: 1fr;
            }
        {% else %}
            .{{ mood.html_id }}.tenses-grid {
                grid-template-columns: 1fr 1fr;
            }
            .{{ mood.html_id }} .tense-even {justify-self: start}
        {% endif %}

        }
        @media (min-width: 1200px) {
            /* 570px */
        {% if mood.two_columns_size > 570 %}
            .{{ mood.html_id }}.tenses-grid {
                grid-template-columns: 1fr;
            }
        {% else %}
            .{{ mood.html_id }}.tenses-grid {
                grid-template-columns: 1fr 1fr;
            }
            .{{ mood.html_id }} .tense-even {justify-self: start}
        {% endif %}
        }
        {% endfor %}
    </style>
{% endblock %}

{% block content %}
	{% load i18n site_tags %}
	<div class="container">

		<div class="row first_row">
			<div class="col-12 col-md-12 col-lg-6">
				<div class="row">
					<div class="col-12">
						{% include 'conjugation/verb_form.html' %}
					</div>
				</div>
				<div class="row">
					<div class="col-12">
                        <h1 class="title">{% include 'conjugation/verb_title.html' with reflexive=reflexive v=v pronoun=pronoun table=table %}</h1>
					</div>
				</div>
				<div class="row mb-0">
					<div class="col-12">
						<ul class="nav nav-tabs conjugation-tabs">
							<li class="nav-item active" id="less_tab">
								<a style="cursor: pointer"
								   class="nav-link noselect text-dark"
								   onclick="see_less()">Сокращенная версия</a>
							</li>
							<li class="nav-item" id="more_tab">
								<a style="cursor: pointer"
								   class="nav-link noselect text-dark"
								   onclick="see_more()">Полная версия</a>
							</li>
						</ul>
					</div>
				</div>
				<div class="row">
					{% if forms_count > 1 %}
						<div class="col-12 mb-2">
							<ul class="nav nav-pills">
								{% for i in forms_range %}
									<li style="cursor: pointer"
									    class="nav-item verb-form-pill">
										<a href="" class="nav-link{% if forloop.first %} active{% endif %} form-pills" id="formPill{{ forloop.counter0 }}" data-toggle="pill"
										   data-t=".form{{ forloop.counter0 }}">Вариант {{ i }}</a>
									</li>
								{% endfor %}
							</ul>
						</div>
					{% endif %}
					{% include 'conjugation/switches.html' with switches_form=switches_form v=v badges=badges %}
				</div>
                {% if v.regle %}
                    {% include 'conjugation/regle.html' with text=v.regle.text_rus infinitive=v.infinitive %}
                {% endif %}

			</div>
            <div class="d-none d-lg-flex col-lg-6 text-center">
                {% if request|is_pc or request|is_tablet %}
                    {% conjugation_advertisement_body "lf_fr_conj_rsb_01" %}
                {% else %}
                    {% conjugation_advertisement_body "lf_fr_conj_mob_01" %}
                {% endif %}
            </div>
		</div>

		<div class="row">
			<div class="col-12 col-md-12 col-lg-6">
				{% for mood in table.moods %}
                    {% include 'conjugation/mood.html' with mood=mood with_name=True %}
				{% endfor %}
			</div>
			<div class="col-12 col-md-12 col-lg-6">
				<div class="row emploi">
					<div class="col-12">
						<h3>Коротко о главном</h3>
						<p>{{ v.employs | safe }}</p>
					</div>
				</div>
				<div class="row novichkam">
					<div class="col-md-12">
						<h2>Новичкам</h2>
						<p>Глядя на внушительный список времен, в которых спрягаются французские глаголы, загрустит любой новичок. Я поспешу таких успокоить: вам показали то, что ваша неокрепшая психика не должна была увидеть. :) Мы-то, взрослые, знаем, что реальная жизнь несоизмеримо проще: среднестатистический современный француз в беглой речи использует
							<b>всего три времени</b>: настоящее, прошедшее (событийное) и будущее. Причем, последнее с легкостью заменяется на удивительный по простоте образования глагольный оборот с использованием спряжения одного единственного глагола «идти» в настоящем времени и инфинитива смыслового глагола.
						</p>
						<p>Таким образом, все знания сводятся к двум временам, которые надолго позволят вам абстрагироваться от всей прочей парадигмы спряжения и излагать практически любую вашу мысль без искажения смысла.</p>
						<p>И еще одна хорошая новость: второе из этих двух времен — составное, а это значит, что не надо учить шесть форм глагола во всех лицах и числах — достаточно знать его причастие, которое у 90% глаголов звучит так же, как инфинитив. Это французский язык: снаружи кажется ужасно сложно и запутано, а копнешь — все уже упростили до нас.</p>
					</div>
				</div>
				<div class="row">
					<div class="col-12" style="text-align: center">
{#						{% conjugation_advertisement_body "lf_fr_conj_rsb_02" %}#}
					</div>
				</div>
				<div class="row">
					<div class="col-12">
						{% include 'conjugation/feedback.html' %}
					</div>
				</div>
			</div>
		</div>
	</div>

{% endblock %}
