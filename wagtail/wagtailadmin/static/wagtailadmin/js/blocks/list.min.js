(function($){window.ListBlock=function(opts){var listMemberTemplate=$("#"+opts.definitionPrefix+"-newmember").text();return function(elementPrefix){var sequence=Sequence({prefix:elementPrefix,onInitializeMember:function(sequenceMember){if(opts.childInitializer){opts.childInitializer(sequenceMember.prefix+"-value")}$("#"+sequenceMember.prefix+"-delete").click(function(){sequenceMember.delete()});$("#"+sequenceMember.prefix+"-moveup").click(function(){sequenceMember.moveUp()});$("#"+sequenceMember.prefix+"-movedown").click(function(){sequenceMember.moveDown()})},onEnableMoveUp:function(sequenceMember){$("#"+sequenceMember.prefix+"-moveup").removeClass("disabled")},onDisableMoveUp:function(sequenceMember){$("#"+sequenceMember.prefix+"-moveup").addClass("disabled")},onEnableMoveDown:function(sequenceMember){$("#"+sequenceMember.prefix+"-movedown").removeClass("disabled")},onDisableMoveDown:function(sequenceMember){$("#"+sequenceMember.prefix+"-movedown").addClass("disabled")}});$("#"+elementPrefix+"-add").click(function(){sequence.insertMemberAtEnd(listMemberTemplate)})}}})(jQuery);