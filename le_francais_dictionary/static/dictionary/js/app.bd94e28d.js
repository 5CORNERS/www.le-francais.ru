(function(t){function e(e){for(var r,o,i=e[0],c=e[1],d=e[2],l=0,h=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,d||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==s[c]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},s={app:0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/static/dictionary/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var d=0;d<i.length;d++)e(i[d]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0164":function(t,e,n){t.exports=n.p+"img/learn.ecebc089.svg"},"18d4":function(t,e,n){t.exports=n.p+"img/pause.173288f8.svg"},"21e7":function(t,e,n){t.exports=n.p+"img/previous.c6da65d7.svg"},"35fe":function(t,e,n){t.exports=n.p+"img/next.def9b092.svg"},"53e0":function(t,e,n){t.exports=n.p+"img/play.16146fde.svg"},"5c0b":function(t,e,n){"use strict";var r=n("e332"),s=n.n(r);s.a},"75a3":function(t,e,n){t.exports=n.p+"img/repeat.8f852bf0.svg"},7720:function(t,e,n){t.exports=n.p+"img/heart.cc773a43.svg"},7831:function(t,e,n){t.exports=n.p+"img/dont_remember.455df279.svg"},8462:function(t,e,n){t.exports=n.p+"img/heart-arrow.a7e327ca.svg"},"8a17":function(t,e,n){t.exports=n.p+"img/pause_time.f9c5cfd1.svg"},"9ff2":function(t,e,n){t.exports=n.p+"img/keyhole.da74ef8e.svg"},a306:function(t,e,n){t.exports=n.p+"img/btn-add-words.dad1585f.svg"},b263:function(t,e,n){t.exports=n.p+"img/full_screen.c4ebc905.svg"},bcb3:function(t,e,n){t.exports=n.p+"img/sound_on.baa62bda.svg"},c8fa:function(t,e,n){t.exports=n.p+"img/menu.356e787e.svg"},cd49:function(t,e,n){"use strict";n.r(e);n("8e6e"),n("ac6a"),n("456d");var r=n("bd86"),s=(n("14c6"),n("08c1"),n("4842"),n("d9fc"),n("2b0e")),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.packetPk?t._e():n("h1",[t._v("Номер пакета не установлен.")]),t.isDevEnv?n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"row mt-1"},[n("div",{staticClass:"col-12 col-md-3 col-lg-3"},[t._v(" ")]),n("div",{staticClass:"col-12 col-md-9 col-lg-6 mb-3"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[t._e(),n("router-view")],1)])]),n("div",{staticClass:"col-12 col-lg-3"},[t._v(" ")])])]):n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[t._e(),n("router-view")],1)])])},o=[],i=(n("96cf"),n("3b8d")),c=n("d225"),d=n("b0b4"),u=n("308d"),l=n("6bb5"),h=n("4e2b"),f=n("9ab4"),p=n("60a3"),v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.lessonsLoaded?t._e():r("div",{staticClass:"my-4 text-center"},[r("b-spinner",{attrs:{label:"Loading...",width:"24",variant:"dark"}})],1),t.isUserAuthenticated?r("div",{staticClass:"mb-3",attrs:{id:"lessons-list"}},[r("button",{staticClass:"btn-info btn-show-lessons",class:{show:t.showLessonList},on:{click:t.toggleShowLessonList}},[r("span",{staticClass:"mr-2"},[t._v("\n            "+t._s(t.lesson?t.lesson.name:"Выберите урок")+"\n        ")]),t.showLessonList?r("i",{staticClass:"lni-chevron-up"}):r("i",{staticClass:"lni-chevron-down"})]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showLessonList,expression:"showLessonList"}],staticClass:"lessons-dropdown"},[r("div",t._l(t.lessons,function(e){return r("a",{staticClass:"btn-lesson d-inline-flex d-xl-flex d-lg-inline-flex mb-2",class:{active:e.pk===t.lessonNumber,activated:e.activated||t.isDemoUserAllowed(e),added:e.added||t.isDemoUserAllowed(e),learned:e.wordsLearned&&e.wordsLearned>=e.wordsCount},attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.setLesson(e)}}},[r("span",[t._v(t._s(e.name))]),e.wordsLearned&&e.wordsLearned>=e.wordsCount?r("img",{attrs:{src:n("8462"),width:"26"}}):e.added||t.isDemoUserAllowed(e)?r("img",{attrs:{src:n("7720"),width:"22"}}):e.activated||t.isDemoUserAllowed(e)?r("img",{attrs:{src:n("a306"),width:"24"}}):r("img",{attrs:{src:n("f3d2"),width:"22"}})])}),0)])]):t._e()])},m=[],b=n("6fc5"),w=n("2f62"),g=n("bc3a"),y=n.n(g),C={baseURL:"/",withCredentials:!0};var k=y.a.create(C);var T=k;s["default"].use(w["a"]);var O={state:{currentLesson:null,currentLessonNumber:0,slideTimerInterval:2,wordNumber:0,wordsCount:0,wordChangeInterval:2,useFullscreen:!1,corsProxyUrl:"https://cors-anywhere.herokuapp.com/",cardMode:"learn",isAppInitialized:!1,showWordTranslation:!1,isDevEnv:!1,dictionaryMode:"learn"},mutations:{SET_CURRENT_LESSON:function(t,e){t.currentLesson=e,t.currentLessonNumber=e?e.pk:0},SET_TIMER_INTERVAL:function(t,e){t.slideTimerInterval=e},SET_WORD_CHANGE_INTERVAL:function(t,e){t.wordChangeInterval=e},SET_WORD_NUMBER:function(t,e){t.wordNumber=e},SET_WORDS_COUNT:function(t,e){t.wordsCount=e},SET_FULLSCREEN_MODE:function(t,e){t.useFullscreen=e},SET_CARD_MODE:function(t,e){t.cardMode=e},SET_SHOW_WORD_TRANSLATION:function(t,e){t.showWordTranslation=e},SET_IS_APP_INITIALIZED:function(t,e){t.isAppInitialized=e},SET_DICTIONARY_MODE:function(t,e){t.dictionaryMode=e}},actions:{setCurrentLesson:function(t,e){var n=t.commit;n("SET_CURRENT_LESSON",e)},setSlideTimerInterval:function(t,e){var n=t.commit;e>5&&(e=1),n("SET_TIMER_INTERVAL",e)},setWordChangeInterval:function(t,e){var n=t.commit;e>5&&(e=1),n("SET_WORD_CHANGE_INTERVAL",e)},setWordNumber:function(t,e){(e>=t.state.wordsCount||e<0)&&(e=0),t.commit("SET_WORD_NUMBER",e)},setWordsCount:function(t,e){var n=t.commit;n("SET_WORDS_COUNT",e)},setFullscreenMode:function(t,e){var n=t.commit;n("SET_FULLSCREEN_MODE",e)},setCardMode:function(t,e){var n=t.commit;n("SET_CARD_MODE",e)},showWordTranslation:function(t,e){var n=t.commit;n("SET_SHOW_WORD_TRANSLATION",e)},setIsAppInitialized:function(t,e){var n=t.commit;n("SET_IS_APP_INITIALIZED",e)},setLessonByPk:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,n){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit,t.next=3,T.get("/dictionary/progress/"+n+"/");case 3:return r=t.sent,t.next=6,this.dispatch("setCurrentLesson",r.data);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),setDictionaryMode:function(t,e){var n=t.commit;n("SET_DICTIONARY_MODE",e)}}},L=new w["a"].Store(O),_=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.lessons=[],t.isAuthenticated=!1,t}return Object(h["a"])(e,t),Object(d["a"])(e,[{key:"setProgress",value:function(t){this.lessons=t.packets,this.isAuthenticated=t.isAuthenticated}},{key:"loadLessons",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.get("/dictionary/progress");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(b["d"]);Object(f["a"])([b["c"]],_.prototype,"setProgress",null),Object(f["a"])([Object(b["a"])({commit:"setProgress"})],_.prototype,"loadLessons",null),_=Object(f["a"])([Object(b["b"])({namespaced:!0,name:"LessonsModule",store:L,dynamic:!0})],_);var W=Object(b["e"])(_),j=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.lessonsLoaded=!1,t.showLessonList=!1,t}return Object(h["a"])(e,t),Object(d["a"])(e,[{key:"toggleShowLessonList",value:function(){this.showLessonList=!this.showLessonList}},{key:"isDemoUserAllowed",value:function(t){return t.demo&&!W.isAuthenticated}},{key:"setLesson",value:function(t){this.showLessonList=!1,L.dispatch("setCurrentLesson",t)}},{key:"mounted",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,W.loadLessons();case 2:return t.next=4,L.dispatch("setIsAppInitialized",!0);case 4:return t.next=6,this.$nextTick();case 6:this.isUserAuthenticated||(e=/\/lecon-(\d+)\//gm,n=e.exec(window.location.href),null!==n?(r=W.lessons[parseInt(n[1],10)-1],r&&this.setLesson(r)):this.setLesson(W.lessons[0])),this.lessonsLoaded=!0;case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"lessons",get:function(){return W.lessons}},{key:"isUserAuthenticated",get:function(){return W.isAuthenticated}},{key:"lesson",get:function(){return L.state.currentLesson}},{key:"lessonNumber",get:function(){return L.state.currentLessonNumber}}]),e}(p["c"]);j=Object(f["a"])([Object(p["a"])({})],j);var x=j,S=x,E=n("2877"),M=Object(E["a"])(S,v,m,!1,null,null,null),D=M.exports,P=function(t){function e(){return Object(c["a"])(this,e),Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(h["a"])(e,t),Object(d["a"])(e,[{key:"mounted",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.packetPk){t.next=2;break}return t.abrupt("return");case 2:return L.dispatch("setDictionaryMode",this.mode||"learn"),t.next=5,L.dispatch("setLessonByPk",parseInt(this.packetPk,10));case 5:L.dispatch("setIsAppInitialized",!0);case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"isDevEnv",get:function(){return L.state.isDevEnv}}]),e}(p["c"]);Object(f["a"])([Object(p["b"])(String)],P.prototype,"packetPk",void 0),Object(f["a"])([Object(p["b"])(String)],P.prototype,"mode",void 0),P=Object(f["a"])([Object(p["a"])({components:{LessonList:D}})],P);var A=P,I=A,N=(n("5c0b"),Object(E["a"])(I,a,o,!1,null,null,null)),R=N.exports,U=n("8c4f"),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isAppInitialized,expression:"isAppInitialized"}]},[t.error?n("BlankCard",[n("h2",{staticClass:"text-center"},[t._v("\n            "+t._s(t.error.message)+"\n        ")])]):t.isAuthenticated||t.loginWarnAccepted?t.isAuthenticated&&!t.currentLesson?n("BlankCard",[n("h2",{staticClass:"text-center"},[t._v("Выберите урок в меню выше.")])]):t._e():n("BlankCard",[n("p",{staticClass:"text-center"},[t._v("\n            Незарегистрированным пользователям доступна только демо-версия словарика.\n            Войдите на сайт под своим именем, чтобы использовать метод интервального повторения слов.\n        ")]),n("button",{staticClass:"btn-info btn-card-button mt-4",on:{click:function(e){t.loginWarnAccepted=!0}}},[t._v("Понятно")])]),t.currentLesson?n("div",{directives:[{name:"show",rawName:"v-show",value:t.isAuthenticated||t.loginWarnAccepted,expression:"isAuthenticated || loginWarnAccepted"}]},[t.isCurrentLessonAdded?n("Dictionary",{ref:"dictionary"}):n("BlankCard",[n("h2",{staticClass:"text-center mb-5"},[t._v("\n                Загрузить слова "+t._s(t.currentLesson.lessonNumber)+" урока в ваш профиль для изучения?\n            ")]),n("div",{staticClass:"text-center fullwidth"},[n("button",{staticClass:"btn btn btn-info btn-nav mx-2 mb-2",attrs:{type:"button"},on:{click:t.loadLessonWords}},[t._v("\n                    ОК\n                ")]),n("button",{staticClass:"btn btn-info btn-nav mx-2 mb-2",attrs:{type:"button"},on:{click:t.unselectLesson}},[t._v("Отмена")])])])],1):t._e()],1)},F=[],$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{},[r("div",{staticClass:"row",class:{invisible:t.lessonIsLoading}},[r("div",{staticClass:"col d-flex justify-content-center text-center"},[r("div",{staticClass:"mode-icon",class:{active:"learn"===t.dictionaryMode},on:{click:function(e){return t.setDictionaryMode("learn")}}},[r("img",{attrs:{src:n("0164"),alt:"Учить слова"}}),r("p",[t._v("Учить")]),r("span")])]),r("div",{staticClass:"col d-flex justify-content-center text-center"},[r("div",{staticClass:"mode-icon",class:{active:"repeat"===t.dictionaryMode},on:{click:function(e){return t.setDictionaryMode("repeat")}}},[r("img",{attrs:{src:n("75a3"),alt:"Повторять слова"}}),r("p",[t._v("Повторять")]),r("span")])])]),t.error?r("BlankCard",[r("h2",{staticClass:"text-center"},[t._v("\n            "+t._s(t.error.message)+"\n        ")])]):t.lessonIsLoading?r("BlankCard",[r("h2",[t._v("Загружаем слова...")]),r("div",{staticClass:"text-center page-loading mt-4"},[r("b-spinner",{attrs:{label:"Загрузка...",variant:"dark"}})],1)]):[t.askForWordBan?r("BlankCard",[r("h2",{staticClass:"text-center"},[t._v("\n                Навсегда убрать «‎"+t._s(t.currentWordToLearn.word.word)+"»‎ из списка для изучения?\n            ")]),r("div",{staticClass:"text-center mt-4"},[r("button",{staticClass:"btn-info btn-card-button mr-2",attrs:{type:"button"},on:{click:t.banWord}},[t._v("\n                    Да, я уже знаю\n                    "+t._s("phrase"===t.currentWordToLearn.word.partOfSpeech?"эту фразу":"это слово")+".\n                ")]),r("button",{staticClass:"btn-info btn-card-button ml-2",attrs:{type:"button"},on:{click:t.cancelWordBan}},[t._v("\n                    Нет, я передумал!\n                ")])])]):!1===t.lessonComplete?[t.wordsCount>0?r("div",{staticClass:"row"},[r("div",{staticClass:"col d-flex align-items-center justify-content-center next-step-block",class:{invisible:"learn"!==t.dictionaryMode}},[t.isLessonLearnt?t._e():r("span",{class:{active:"learn"===t.cardMode}},[t._v("Запоминаем")]),"learn"===t.cardMode?r("a",{staticClass:"d-flex justify-content-center flex-column align-items-center",class:{filled:t.learntWordsCount===t.wordsCount,learnt:t.isLessonLearnt},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setCardMode("self-check")}}},[r("radial-progress-bar",{attrs:{diameter:66,"completed-steps":t.learntWordsCount,"start-color":"#1972bc","stop-color":"#1972bc","total-steps":t.wordsCount}},[r("div",[r("img",{attrs:{src:n("d9c4")}}),r("img",{attrs:{src:n("d25c")}})])])],1):t._e(),"learn"!==t.cardMode?r("a",{staticClass:"d-flex justify-content-center flex-column align-items-center filled",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.setCardMode("learn")}}},[r("img",{staticClass:"rotated",attrs:{src:n("d25c")}})]):t._e(),t.isLessonLearnt?t._e():r("span",{class:{active:"learn"!==t.cardMode}},[t._v("Проверяем")])])]):t._e(),r("fullscreen",{ref:"fullscreen"},[t.wordsCount>0?r("div",[r("div",{staticClass:"row"},[r("div",{staticClass:"col text-center"},[r("WordCard",{attrs:{wordToLearn:t.currentWordToLearn,learntWordsCount:t.learntWordsCount}})],1)]),r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("b-progress",{attrs:{value:t.lessonProgress,height:"8px",id:"learn-progress-bar"}})],1)]),"learn"===t.cardMode?r("div",{staticClass:"row d-flex align-items-center"},[r("div",{staticClass:"col d-flex justify-content-between"},[r("button",{staticClass:"btn btn-info btn-nav",attrs:{type:"button"},on:{keyup:function(t){t.preventDefault(),t.stopPropagation()},click:function(e){return e.stopPropagation(),t.setWordNumber(t.currentWordNumber-1)}}},[r("img",{attrs:{src:n("21e7")}})]),r("button",{staticClass:"btn btn-info btn-nav btn-narrow mx-4",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),t.askForBan()}}},[r("img",{attrs:{src:n("7831")}})]),r("button",{staticClass:"btn btn-info btn-nav",attrs:{type:"button"},on:{keyup:function(t){t.preventDefault(),t.stopPropagation()},click:function(e){return e.stopPropagation(),t.showWordTranslation()}}},[r("img",{attrs:{src:n("35fe")}})])])]):"self-check"===t.cardMode?r("div",{staticClass:"row d-flex align-items-center"},[r("div",{staticClass:"col d-flex justify-content-between"},[r("button",{staticClass:"btn btn-info btn-nav",attrs:{type:"button",disabled:!t.currentWordToLearn.revealed},on:{click:function(e){return e.stopPropagation(),t.setWordMemoryState(!0)}}},[r("img",{attrs:{src:n("e587")}}),r("span",{staticClass:"d-none d-md-inline"},[t._v("\n                                    "+t._s(t.currentWordToLearn.hintsShown()?"Вспомнил":"Помню")+"\n                                ")])]),r("button",{staticClass:"btn btn-info btn-nav btn-wide mx-2",attrs:{type:"button",disabled:t.currentWordToLearn.revealed},on:{click:function(e){return e.stopPropagation(),t.currentWordToLearn.revealWord()}}},[r("img",{attrs:{src:n("f4a8")}}),r("span",{staticClass:"d-none d-md-inline"},[t._v("Ответ")])]),r("button",{staticClass:"btn btn-info btn-nav",attrs:{type:"button",disabled:!t.currentWordToLearn.revealed},on:{click:function(e){return e.stopPropagation(),t.setWordMemoryState(!1)}}},[r("img",{attrs:{src:n("7831")}}),r("span",{staticClass:"d-none d-md-inline"},[t._v("\n                                    "+t._s(t.currentWordToLearn.hintsShown()?"Не вспомнил?":"Не помню")+"\n                                ")])])])]):t._e()]):t._e()])]:t.lessonComplete?r("BlankCard",["learn"===t.dictionaryMode?r("h2",[t._v("Поздравляем! Все слова урока выучены!")]):[t.wordsCount?r("h2",[t._v("Поздравляем! Все слова повторены.")]):r("h2",[t._v("На сегодня повторять нечего.")])]],2):t._e()]],2)},z=[],H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.word?r("div",{ref:"wordcard",staticClass:"word-card",class:t.wordSexClass},[r("div",{staticClass:"dummy-row"},[t._v(" ")]),r("span",{staticClass:"word-card-phrase"},["learn"===t.cardMode?[t._v("\n            "+t._s(t.wordLabel)+"\n        ")]:[t._v("\n            "+t._s(t.wordTranslation)+"\n        ")]],2),!1===t.translateTimerEnabled&&"learn"===t.cardMode?r("span",{staticClass:"play-button",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleTimer()}}},[r("img",{attrs:{src:n("53e0")}})]):t._e(),!0===t.translateTimerEnabled&&"learn"===t.cardMode?r("span",{staticClass:"pause-button invis",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleTimer()}}},[r("img",{attrs:{src:n("18d4")}})]):t._e(),"learn"===t.cardMode?r("div",{staticClass:"word-card-phrase",class:{invisible:!t.showTranslation}},[t._v("\n        "+t._s(t.wordTranslation)+"\n    ")]):t._e(),"learn"!==t.cardMode?r("div",{staticClass:"word-card-phrase"},[t.wordToLearn.isWordRevealed()?[t._v("\n            "+t._s(t.wordLabel)+"\n        ")]:[t.showCharacterPlaceholders?r("div",{staticClass:"word-characters-block"},t._l(t.wordCharacters,function(e){return r("span",{staticClass:"word-character",class:{shown:e.shown}},[t._v("\n                    "+t._s(e.shown?e.character:"")+"\n                ")])}),0):t._e()]],2):t._e(),r("div",{staticClass:"dummy-row2"},[t._v(" ")]),r("a",{staticClass:"show-hint-button",class:{invisible:"learn"===t.cardMode||t.wordToLearn.isWordRevealed()},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.showHint(e)}}},[r("img",{attrs:{src:n("9ff2")}})]),r("div",{staticClass:"info-row"},[r("div",{staticClass:"timer-block ml-4",class:{invisible:"learn"!==t.cardMode}},[r("div",{staticClass:"d-flex align-items-center"},[r("a",{staticClass:"invis mr-2",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.changeTranslateTimerInterval(e)}}},[r("img",{attrs:{src:n("8a17"),height:"20"}})]),t._l(t.translateTimerInterval,function(e){return r("span",{staticClass:"timer-dot mr-1",class:{passed:e<=t.translateTimerSecondsPassed}})})],2)]),r("div",{staticClass:"settings-block mr-4"},[r("a",{staticClass:"mr-2 invis",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleSoundEnabled(e)}}},[t.soundEnabled?r("img",{attrs:{src:n("bcb3"),height:"20"}}):t._e(),t.soundEnabled?t._e():r("img",{staticClass:"play-sound-off",attrs:{src:n("f635"),height:"20"}})]),r("a",{staticClass:"mr-2 invis",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.toggleFullscreen(e)}}},[r("img",{attrs:{src:n("b263"),height:"20"}})]),r("a",{staticClass:"invis",class:{visible:t.settingsPopoverOpened},attrs:{href:"#",id:"settings-popover-button"},on:{click:function(t){t.preventDefault(),t.stopPropagation()}}},[r("img",{attrs:{src:n("c8fa"),height:"20"}}),r("b-popover",{attrs:{target:"settings-popover-button","custom-class":"settings-popover",triggers:"click blur",placement:"top"},on:{shown:function(e){t.settingsPopoverOpened=!0},hidden:function(e){t.settingsPopoverOpened=!1}},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("Настройки")]},proxy:!0}],null,!1,3100224662)},[r("p",[r("label",{attrs:{for:"select-translation-direction"}},[t._v("Направление перевода:")]),r("br"),r("select",{directives:[{name:"model",rawName:"v-model",value:t.translationDirection,expression:"translationDirection"}],staticClass:"form-control-sm",attrs:{id:"select-translation-direction"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.translationDirection=e.target.multiple?n:n[0]}}},[r("option",{attrs:{value:"fr-ru"}},[t._v("Французский → русский")]),r("option",{attrs:{value:"ru-fr"}},[t._v("Русский → французский")])])]),r("p",[r("label",{attrs:{for:"select-timer-interval"}},[t._v("Задержка после показа слова:")]),r("br"),r("select",{directives:[{name:"model",rawName:"v-model.number",value:t.translateTimerInterval,expression:"translateTimerInterval",modifiers:{number:!0}}],staticClass:"form-control-sm",attrs:{id:"select-timer-interval"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(e){var n="_value"in e?e._value:e.value;return t._n(n)});t.translateTimerInterval=e.target.multiple?n:n[0]}}},t._l(5,function(e){return r("option",[t._v(t._s(e))])}),0)]),r("p",[r("label",{attrs:{for:"select-change-interval"}},[t._v("Задержка после показа перевода:")]),r("br"),r("select",{staticClass:"form-control-sm",attrs:{id:"select-change-interval"},domProps:{value:t.wordChangeInterval},on:{change:t.setWordChangeInterval}},t._l(5,function(e){return r("option",[t._v(t._s(e))])}),0)])])],1)])])]):t._e()},V=[],G=n("66d4"),J=n.n(G),Q=n("1157"),Y=n.n(Q),Z=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.translateTimerEnabled=!1,t.translateTimerSecondsPassed=0,t.translateTimerInterval=1,t.showTranslation=!1,t.soundEnabled=!0,t.showCharacterPlaceholders=!1,t.settingsPopoverOpened=!1,t.translationDirection="fr-ru",t.wordSoundsInitialized=!1,t}return Object(h["a"])(e,t),Object(d["a"])(e,[{key:"wordChanged",value:function(){this.showCharacterPlaceholders=!1,this.showTranslation=!1,this.translateTimerSecondsPassed=0,this.wordSoundsInitialized=!1,this.soundOfTranslation&&this.soundOfTranslation.stop(),this.soundOfWord&&this.soundOfWord.stop(),this.timer.stop(),this.changeWordTimer.stop(),"self-check"===this.cardMode&&this.beforeTimerStarted(),this.translateTimerEnabled&&this.toggleTimer(!0),this.wordToLearn&&(this.wordToLearn.shown=!0)}},{key:"wordToLearnChanged",value:function(t){t&&this.soundEnabled&&this.playSound(!1)}},{key:"cardModeChanged",value:function(t){"self-check"===t&&(this.timer.stop(),this.changeWordTimer.stop(),this.beforeTimerStarted())}},{key:"toggleSoundEnabled",value:function(){this.soundEnabled=!this.soundEnabled}},{key:"showHint",value:function(){if(void 0!==this.wordToLearn)if(this.showCharacterPlaceholders){for(var t in this.wordCharacters)if(!this.wordCharacters[t].shown){this.wordCharacters[t].show(!0);break}this.wordToLearn.revealed=this.wordToLearn.isWordRevealed()}else this.showCharacterPlaceholders=!0}},{key:"getSoundOfWord",value:function(){this.soundOfWord=this.wordToLearn.soundOfWord}},{key:"getSoundOfTranslation",value:function(){this.soundOfTranslation=this.wordToLearn.soundOfTranslation}},{key:"playSoundOfWord",value:function(){var t=this;return new Promise(function(e,n){var r=t.soundOfWord;t.soundEnabled?r&&(r.once("end",function(){e()}),r.play()):e()})}},{key:"playSoundOfTranslation",value:function(){var t=this;return new Promise(function(e,n){var r=t.soundOfTranslation;t.soundEnabled?(t.soundOfWord.pause(),r&&(r.once("end",function(){e()}),r.play())):e()})}},{key:"toggleFullscreen",value:function(){L.dispatch("setFullscreenMode",!L.state.useFullscreen)}},{key:"showWordTranslation",value:function(){var t=this;this.showTranslation||"learn"===this.cardMode&&!this.translateTimerEnabled?L.dispatch("setWordNumber",L.state.wordNumber+1):(this.showTranslation=!0,this.translateTimerSecondsPassed=this.translateTimerInterval,this.wordToLearn&&(this.wordToLearn.learnt=!0),this.playSound(!0).then(function(){"learn"===t.cardMode&&(t.changeWordTimer.start({precision:"seconds",startValues:{seconds:0},target:{seconds:t.wordChangeInterval}}),t.translateTimerEnabled||t.changeWordTimer.pause())}))}},{key:"setWordChangeInterval",value:function(t){L.dispatch("setWordChangeInterval",parseInt(t.target.value,10))}},{key:"changeTranslateTimerInterval",value:function(){return!(++this.translateTimerInterval>5)||(this.translateTimerInterval=1,!1)}},{key:"beforeTimerStarted",value:function(){return!this.wordSoundsInitialized&&(this.wordSoundsInitialized=!0,this.getSoundOfWord(),this.getSoundOfTranslation(),this.soundEnabled)?this.playSound("learn"!==this.cardMode):new Promise(function(t){return t()})}},{key:"playSound",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&"fr-ru"===this.translationDirection||!t&&"ru-fr"===this.translationDirection&&"learn"===this.cardMode?this.playSoundOfTranslation():this.playSoundOfWord()}},{key:"changeWord",value:function(){this.translateTimerEnabled&&L.dispatch("setWordNumber",L.state.wordNumber+1)}},{key:"toggleTimer",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("learn"===this.cardMode){if(this.translateTimerEnabled=e||!this.translateTimerEnabled,!this.translateTimerEnabled)return this.timer.isRunning()&&this.timer.pause(),void(this.changeWordTimer.isRunning()&&this.changeWordTimer.pause());this.changeWordTimer.isPaused()?this.changeWordTimer.start():this.timer.isPaused()?this.timer.start():this.beforeTimerStarted().then(function(){t.translateTimerEnabled&&t.timer.start({precision:"seconds",startValues:{seconds:t.translateTimerSecondsPassed},target:{seconds:t.translateTimerInterval}})})}}},{key:"eventShowWordTranslation",value:function(t){t&&(this.showWordTranslation(),L.dispatch("showWordTranslation",!1))}},{key:"beforeDestroy",value:function(){this.timer.stop(),this.changeWordTimer.stop()}},{key:"mounted",value:function(){var t=this,e=L.state.currentLesson;this.timer=new J.a,this.timer.addEventListener("secondsUpdated",function(e){t.translateTimerSecondsPassed++}),this.timer.addEventListener("started",function(e){t.translateTimerEnabled=!0}),this.timer.addEventListener("targetAchieved",function(e){t.translateTimerEnabled&&t.showWordTranslation()}),this.changeWordTimer=new J.a,this.changeWordTimer.addEventListener("targetAchieved",function(n){e===L.state.currentLesson&&t.changeWord()}),this.lastFadeoutAnimationStarted=Date.now(),Y()(".word-card").off("mousemove"),Y()(".word-card").on("mousemove",function(){if(!(Date.now()-t.lastFadeoutAnimationStarted<1e3)){t.lastFadeoutAnimationStarted=Date.now();var e=Y()(".word-card:hover .invis");e.removeClass("run-fadeout-animation"),e[0]&&e[0].offsetWidth,e.addClass("run-fadeout-animation")}}),document.body.addEventListener("keydown",function(e){32===e.keyCode&&t.beforeTimerStarted().then(function(){return t.toggleTimer()})}),this.wordChanged()}},{key:"wordId",get:function(){return L.state.currentLesson+"-"+this.wordNumber}},{key:"word",get:function(){if(this.wordToLearn)return this.wordToLearn.word}},{key:"cardMode",get:function(){return L.state.cardMode}},{key:"wordSexClass",get:function(){return this.word?{"sex-male":"m"===this.word.gender,"sex-female":"f"===this.word.gender,"sex-none":null===this.word.gender}:{}}},{key:"wordNumber",get:function(){return L.state.wordNumber}},{key:"wordsCount",get:function(){return L.state.wordsCount}},{key:"wordLabel",get:function(){return void 0===this.word?"":"ru-fr"===this.translationDirection&&"learn"===this.cardMode&&void 0!==this.word.translations&&null!==this.word.translations?this.word.translations[0].translation:this.word.word}},{key:"wordTranslation",get:function(){return void 0===this.word||void 0===this.word.translations||null===this.word.translations?"":"ru-fr"===this.translationDirection&&"learn"===this.cardMode?this.word.word:this.word.translations[0].translation}},{key:"wordCharacters",get:function(){return void 0===this.wordToLearn?[]:this.wordToLearn.wordCharacters}},{key:"wordChangeInterval",get:function(){return L.state.wordChangeInterval}},{key:"isShowWordTranslation",get:function(){return L.state.showWordTranslation}}]),e}(p["c"]);Object(f["a"])([Object(p["b"])()],Z.prototype,"wordToLearn",void 0),Object(f["a"])([Object(p["b"])()],Z.prototype,"learntWordsCount",void 0),Object(f["a"])([Object(p["d"])("word")],Z.prototype,"wordChanged",null),Object(f["a"])([Object(p["d"])("wordToLearn.revealed")],Z.prototype,"wordToLearnChanged",null),Object(f["a"])([Object(p["d"])("cardMode")],Z.prototype,"cardModeChanged",null),Object(f["a"])([Object(p["d"])("isShowWordTranslation")],Z.prototype,"eventShowWordTranslation",null),Z=Object(f["a"])([Object(p["a"])({})],Z);var q=Z,K=q,X=Object(E["a"])(K,H,V,!1,null,null,null),tt=X.exports,et=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.words=[],t.errors=[],t}return Object(h["a"])(e,t),Object(d["a"])(e,[{key:"setWordsData",value:function(t){this.words=t.words,this.errors=t.errors}},{key:"loadWords",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n="repeat"===L.state.dictionaryMode?"/dictionary/repeat-words/":"/dictionary/words/"+e+"/",t.next=3,T.get(n);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()}]),e}(b["d"]);Object(f["a"])([b["c"]],et.prototype,"setWordsData",null),Object(f["a"])([Object(b["a"])({commit:"setWordsData"})],et.prototype,"loadWords",null),et=Object(f["a"])([Object(b["b"])({namespaced:!0,name:"WordsModule",store:L,dynamic:!0})],et);var nt=Object(b["e"])(et),rt=(n("5df3"),n("a481"),n("28a5"),function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(c["a"])(this,t),this.character=e,this.shown=n,this.shownAsHint=r}return Object(d["a"])(t,[{key:"show",value:function(t){this.shown=!0,this.shownAsHint=t}}]),t}()),st=n("1e5c"),at=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(c["a"])(this,t),this.banned=!1,this.soundOfTranslation=null,this.soundOfWord=null,this.word=e,this.learnt=r,this.shown=!1,this.remember=null,this.revealed=!1,this.wordCharacters=[],this.word.word.replace(/\(.*\)/gm,"").trim().split("").forEach(function(t){n.wordCharacters.push(new rt(t," "===t))}),this.translationCharacters=[],this.word.translations&&this.word.translations[0].translation.replace(/\(.*\)/gm,"").trim().split("").forEach(function(t){n.translationCharacters.push(new rt(t," "===t))})}return Object(d["a"])(t,[{key:"translationCharactersShownNumber",value:function(){return this.translationCharacters.reduce(function(t,e){return t+(e.shown?1:0)},0)}},{key:"wordCharactersShownNumber",value:function(){return this.wordCharacters.reduce(function(t,e){return t+(e.shown?1:0)},0)}},{key:"isWordRevealed",value:function(){return this.wordCharacters.length===this.wordCharactersShownNumber()||this.translationCharacters.length===this.translationCharactersShownNumber()}},{key:"revealWord",value:function(){this.wordCharacters.forEach(function(t){t.shown=!0}),this.translationCharacters.forEach(function(t){t.shown=!0}),this.revealed=!0}},{key:"unrevealWord",value:function(){this.wordCharacters.forEach(function(t){t.shown=!1}),this.translationCharacters.forEach(function(t){t.shown=!1}),this.revealed=!1}},{key:"banWord",value:function(t){if(this.revealed=!0,this.shown=!0,this.remember=!0,this.learnt=!0,this.banned=!0,t)return T.post("/dictionary/mark-words/",{words:[this.word.pk]})}},{key:"updateWordState",value:function(){return this.updateWordQuery(this.word.pk,null===this.remember||this.remember,this.hintsShown())}},{key:"hintsShown",value:function(){var t=this.wordCharacters.reduce(function(t,e){return t+(e.shownAsHint?1:0)},0),e=this.translationCharacters.reduce(function(t,e){return t+(e.shownAsHint?1:0)},0);return t+e}},{key:"wordSoundUrl",value:function(){return this.word.pollyUrl?this.word.pollyUrl:n("efaf")}},{key:"translationSoundUrl",value:function(){return this.word.translations&&this.word.translations[0]?this.word.translations[0].pollyUrl:n("efaf")}},{key:"loadSounds",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=[this.loadSingleSound(this.wordSoundUrl()).then(function(t){return n.soundOfWord=t}),this.loadSingleSound(this.translationSoundUrl()).then(function(t){return n.soundOfTranslation=t})],t.abrupt("return",Promise.all(e));case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"updateWordQuery",value:function(t,e,n){return T.post("/dictionary/update-words/",{words:[{pk:t,grade:e,mistakes:n}]})}},{key:"loadSingleSound",value:function(t){var e=new st["Howl"]({src:[n("efaf")],loop:!1});return t?new Promise(function(n,r){var s=new st["Howl"]({src:[t],preload:!0,loop:!1,buffer:!0,html5:!0,onload:function(){return n(s)},onloaderror:function(){n(e)}})}):new Promise(function(t){t(e)})}}]),t}(),ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"blank-card"},[t._m(0),n("div",{staticClass:"word-card"},[t._t("default")],2)])},it=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row"},[n("div",{staticClass:"col next-step-block"})])}],ct=function(t){function e(){return Object(c["a"])(this,e),Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments))}return Object(h["a"])(e,t),e}(p["c"]),dt=ct,ut=Object(E["a"])(dt,ot,it,!1,null,null,null),lt=ut.exports,ht=n("03cd"),ft=n.n(ht),pt=n("531a"),vt=n.n(pt);p["c"].use(ft.a);var mt=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.wordsToLearn=[],t.lessonComplete=!1,t.lessonIsLoading=!1,t.askForWordBan=!1,t.wordSounds=[],t.translationSounds=[],t}return Object(h["a"])(e,t),Object(d["a"])(e,[{key:"initDictinonary",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.lessonIsLoading=!0,t.next=3,this.$nextTick();case 3:return this.wordsToLearn=[],this.wordSounds=[],this.translationSounds=[],this.lessonComplete=!1,e="learn"===this.dictionaryMode?"learn":"self-check",t.next=10,L.dispatch("setCardMode",e);case 10:return t.next=12,nt.loadWords(this.lessonNumber);case 12:return nt.words.forEach(function(t){return n.wordsToLearn.push(new at(t))}),t.next=15,L.dispatch("setWordsCount",this.wordsToLearn.length);case 15:return t.next=17,this.loadWordSounds();case 17:this.setWordNumber(0),this.lessonIsLoading=!1;case 19:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"loadWordSounds",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.wordsCount&&e<2)){t.next=7;break}return t.next=4,this.wordsToLearn[e].loadSounds();case 4:e++,t.next=1;break;case 7:for(n=2;n<this.wordsCount;n++)this.wordsToLearn[n].loadSounds();case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"setDictionaryMode",value:function(t){t!==this.dictionaryMode&&(L.dispatch("setDictionaryMode",t),this.initDictinonary())}},{key:"eventLessonComplete",value:function(){W.loadLessons()}},{key:"askForBan",value:function(){this.askForWordBan=!0}},{key:"cancelWordBan",value:function(){this.askForWordBan=!1}},{key:"banWord",value:function(){var t=this;this.currentWordToLearn.banWord(this.isUserAuthenticated),this.wordsToLearn=this.wordsToLearn.filter(function(e){return e!==t.currentWordToLearn}),L.dispatch("setWordsCount",this.wordsToLearn.length),L.state.wordNumber>=this.wordsToLearn.length&&this.setWordNumber(0),this.askForWordBan=!1}},{key:"setWordNumber",value:function(t){L.dispatch("setWordNumber",t)}},{key:"setCardMode",value:function(t){this.learntWordsCount===this.wordsCount&&(this.isLessonLearnt||(L.dispatch("setCardMode",t),L.dispatch("setWordNumber",0)))}},{key:"setWordMemoryState",value:function(t){if(this.currentWordToLearn)if(this.rememberedWordsCount!==this.wordsCount){this.currentWordToLearn.remember=t,this.isUserAuthenticated&&this.currentWordToLearn.updateWordState(),t||this.currentWordToLearn.unrevealWord();for(var e=!1,n=this.currentWordNumber+1;n<this.wordsCount;n++)if(!0!==this.wordsToLearn[n].remember){this.setWordNumber(n),e=!0;break}if(!e){for(var r=0;r<this.wordsCount;r++)if(!0!==this.wordsToLearn[r].remember){this.setWordNumber(r),e=!0;break}e||(this.lessonComplete=!0)}}else this.lessonComplete=!0}},{key:"useFullscreenToggle",value:function(){this.$refs.fullscreen.toggle()}},{key:"showWordTranslation",value:function(){L.dispatch("showWordTranslation",!0)}},{key:"isUserAuthenticated",get:function(){return this.currentLesson.isAuthenticated}},{key:"dictionaryMode",get:function(){return L.state.dictionaryMode}},{key:"error",get:function(){return nt.errors.length?nt.errors[0]:null}},{key:"learntWordsCount",get:function(){return this.wordsToLearn&&this.wordsToLearn.length?this.wordsToLearn.filter(function(t){var e=t.learnt;return!0===e}).length:0}},{key:"rememberedWordsCount",get:function(){return this.wordsToLearn.filter(function(t){var e=t.remember;return!0===e}).length}},{key:"currentLesson",get:function(){return L.state.currentLesson}},{key:"isLessonLearnt",get:function(){return this.currentLesson.wordsLearned>=this.currentLesson.wordsCount}},{key:"lessonNumber",get:function(){return L.state.currentLessonNumber}},{key:"currentWordToLearn",get:function(){return this.wordsToLearn[this.currentWordNumber]}},{key:"wordsCount",get:function(){return this.wordsToLearn&&this.wordsToLearn.length?this.wordsToLearn.length:0}},{key:"lessonProgress",get:function(){return"learn"===this.cardMode?100/(this.wordsCount-1)*this.currentWordNumber:100/(this.wordsCount-1)*this.rememberedWordsCount}},{key:"currentWordNumber",get:function(){return L.state.wordNumber}},{key:"useFullscreen",get:function(){return L.state.useFullscreen}},{key:"cardMode",get:function(){return L.state.cardMode}}]),e}(p["c"]);Object(f["a"])([Object(p["d"])("lessonComplete")],mt.prototype,"eventLessonComplete",null),Object(f["a"])([Object(p["d"])("useFullscreen")],mt.prototype,"useFullscreenToggle",null),mt=Object(f["a"])([Object(p["a"])({components:{WordCard:tt,RadialProgressBar:vt.a,BlankCard:lt}})],mt);var bt=mt,wt=bt,gt=Object(E["a"])(wt,$,z,!1,null,null,null),yt=gt.exports,Ct=function(t){function e(){var t;return Object(c["a"])(this,e),t=Object(u["a"])(this,Object(l["a"])(e).apply(this,arguments)),t.loginWarnAccepted=!1,t.notEnoughMoney=!1,t.error=null,t}return Object(h["a"])(e,t),Object(d["a"])(e,[{key:"lessonChanged",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.$forceUpdate(),this.notEnoughMoney=!1,!this.currentLesson||!this.isCurrentLessonAdded){t.next=6;break}return t.next=5,this.$nextTick();case 5:this.initDictionary();case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"loadLessonWords",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,T.post("/dictionary/add-packets/",{packets:[L.state.currentLessonNumber],activate:!0});case 2:if(e=t.sent,e.data.errors.length&&this.isAuthenticated){t.next=10;break}return this.currentLesson.added=!0,t.next=7,this.$forceUpdate();case 7:this.initDictionary(),t.next=12;break;case 10:this.error=e.data.errors[0],this.$forceUpdate();case 12:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},{key:"initDictionary",value:function(){this.$refs.dictionary.initDictinonary()}},{key:"unselectLesson",value:function(){L.dispatch("setCurrentLesson",null)}},{key:"isAppInitialized",get:function(){return L.state.isAppInitialized}},{key:"isAuthenticated",get:function(){return!!this.currentLesson&&this.currentLesson.isAuthenticated}},{key:"isCurrentLessonAdded",get:function(){return this.currentLesson&&(this.currentLesson.added||this.currentLesson.demo&&!W.isAuthenticated)}},{key:"currentLesson",get:function(){return L.state.currentLesson}}]),e}(p["c"]);Object(f["a"])([Object(p["d"])("currentLesson")],Ct.prototype,"lessonChanged",null),Ct=Object(f["a"])([Object(p["a"])({components:{Dictionary:yt,BlankCard:lt}})],Ct);var kt=Ct,Tt=kt,Ot=Object(E["a"])(Tt,B,F,!1,null,null,null),Lt=Ot.exports;s["default"].use(U["a"]);var _t=new U["a"]({mode:"history",base:"/static/dictionary/",routes:[{path:"*",name:"learn",component:Lt}]}),Wt=n("5f5b");function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(n,!0).forEach(function(e){Object(r["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}s["default"].use(Wt["a"]),s["default"].config.productionTip=!1;var St=document.querySelector("#app");new s["default"]({router:_t,store:L,render:function(t){var e={props:xt({},St.dataset)};return t(R,e)}}).$mount("#app")},d25c:function(t,e,n){t.exports=n.p+"img/next_step_white.2843dc7a.svg"},d9c4:function(t,e,n){t.exports=n.p+"img/next_step.962d8a45.svg"},e332:function(t,e,n){},e587:function(t,e,n){t.exports=n.p+"img/remember.32f75583.svg"},efaf:function(t,e,n){t.exports=n.p+"media/silence.2b5bb705.mp3"},f3d2:function(t,e,n){t.exports=n.p+"img/coffee.0da6ac32.svg"},f4a8:function(t,e,n){t.exports=n.p+"img/key.b0a8bc9f.svg"},f635:function(t,e,n){t.exports=n.p+"img/sound_off.941872bb.svg"}});